## 生成AIの問い合わせ自動化をAWSで実装してみた #lambda

https://qiita.com/nktm14/items/394e98ddd0f84afac17c

この解説記事は、AWS Lambda、Amazon Bedrock、LINE Messaging APIを活用し、生成AIへの定型的な問い合わせを自動化し、その結果をLINEで通知する具体的な実装手順を提示します。

**Content Type**: 📖 Tutorial & Guide
**Language**: ja

**Scores**: Signal:4/5 | Depth:4/5 | Unique:3/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 85/100 | **Annex Potential**: 79/100 | **Overall**: 80/100

**Topics**: [[AWS Lambda, Amazon Bedrock, LINE Messaging API, イベント駆動, プロンプト自動化]]

本記事は、生成AIに対する定型的な問い合わせの手間を削減するため、AWSの各種サービスを用いて問い合わせの自動実行と結果通知を行うアプリケーションの実装方法を詳細に解説しています。Webアプリケーションエンジニアにとって、「毎回プロンプトを入力するのが面倒」「エラーログの内容を生成AIに投げるが、ログの文言を書き換えるのが手間」といった課題は日常的であり、筆者はその解決策として「生成AIが欲しい情報を勝手に出力してくれる」構成の"部分的な"自動化を提案しています。

具体的な実装は以下の4ステップで構成されています。
1.  **LambdaによるBedrockへの問い合わせ**: Pythonスクリプトを用いてAWS LambdaからAmazon Bedrock（Titan Text Lite v1モデルを使用）に問い合わせを行い、回答を得る基本的な処理を実装します。Bedrockへのアクセス権限設定やLambdaのタイムアウト延長の重要性も指摘しています。
2.  **LINEへの通知**: 生成AIの回答をLINE Messaging APIを介して個人のLINEアカウントに送信する機能を加えます。環境変数によるセキュリティ強化や、LINE Developerでのアクセストークン取得方法も説明されています。
3.  **EventBridgeによる定期実行**: EventBridgeを利用して、Lambda関数をcron式に基づき定期的に自動実行する設定を行います。これにより、毎日特定の時間に生成AIからの情報を自動で受け取ることが可能になります。
4.  **CloudWatch Logsによるイベント駆動**: CloudWatch Logsのサブスクリプションフィルターを設定し、特定のキーワード（例: "ERROR"）を含むログが出力された際に、それをトリガーとしてLambda関数を起動する仕組みを実装します。ログデータのデコード・解凍処理も詳細に解説されており、障害ログ解析の自動化に役立ちます。

筆者は、この実装はAWS利用者やアプリ開発者にとっては基本的な内容が多いとしつつも、IT初学者や非エンジニアにも生成AI活用への興味を持ってもらうことを意図しています。実際の業務利用にはより堅牢なセキュリティ設計や社内規定への準拠が必要であると注意喚起しています。この自動化により、情報収集やエラー調査の手間を大幅に削減し、業務効率化に貢献できる点が重要であると主張しています。