## MCP サーバーを作成する #AI

https://qiita.com/kkawaharanet/items/0c31c3f732ceb501de83

FastMCP、Ollama、Clineを連携させ、LLMにカスタムツール実行能力を付与するMCPサーバーの構築手順を詳細に解説する。

**Content Type**: Tutorial & Guide

**Scores**: Signal:4/5 | Depth:4/5 | Unique:3/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 85/100 | **Annex Potential**: 79/100 | **Overall**: 80/100

**Topics**: [[MCP, LLM, AI Agent, Ollama, FastMCP]]

この記事は、ローカル環境でLLMに外部ツールを実行させる「MCP（Model Context Protocol）サーバー」の構築方法を、具体的なコードと手順で解説しています。webアプリケーションエンジニアにとって、LLMを単なるテキスト生成にとどまらず、より高度な自動化やシステム連携に活用するための重要な指針となります。

筆者は、まずLLMの手足となるMCPサーバーの役割を「整数同士の足し算」というシンプルな例で示し、FastMCP（Pythonライブラリ）を使用してMCPサーバーを実装する詳細な手順を解説します。次に、ローカルLLM環境としてOllamaにGemma 3をインストールし、AIエージェント機能を持つVS Code拡張機能Clineと連携させる方法を具体的に示します。OllamaでのLLMセットアップから、FastMCPを用いたサーバーの実装（`server.py`のコード例を含む）、そしてCline拡張機能でのMCPサーバー登録（`cline_mcp_settings.json`の設定例を含む）、さらには実際にLLMが外部ツールを呼び出して1+1=2を計算するまでのプロセスが網羅されています。

この手法がなぜ重要かというと、たった1+1の計算に留まらず、開発者がMCPサーバーを通じてLLMに「好きな機能を生やせる」点にあります。データベース更新、バグ報告の自動化、あるいはIoTデバイス制御など、エンジニアがPythonで実装できるあらゆる処理をLLMのエージェント能力として組み込むことが可能になります。これにより、AIが開発ワークフローやアプリケーション内で担える役割は飛躍的に拡大し、単なるコード補完やチャットボットを超えた、自律的なシステム構築への道を開きます。

記事の最後に、Streamable HTTPを利用したMCPサーバーに関するClineの公式ドキュメント情報が不足している点に触れており、この領域の進化がまだ途上であることを示唆しています。既存のMCPサーバーを活用するだけでなく、自社のアプリケーションロジックと連携するカスタムツールを容易に構築できるこのアプローチは、AIエージェントの可能性を大きく広げる実践的な知見です。