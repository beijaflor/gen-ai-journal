## AWS LambdaをAmazon Bedrock AgentCore GatewayでMCP互換ツールに変換して、Strands Agentsから呼び出してみた #2025JapanAWSJr.Champions

https://qiita.com/okayu777/items/a700580cc816114d8fc8

Amazon Bedrock AgentCore Gatewayを活用し、既存のAWS Lambda関数をModel Context Protocol (MCP) 互換ツールに変換してStrands Agentsから安全に呼び出す具体的な手順と動作を実証します。

**Content Type**: ⚙️ Tools

**Scores**: Signal:4/5 | Depth:4/5 | Unique:3/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 81/100 | **Annex Potential**: 77/100 | **Overall**: 80/100

**Topics**: [[Amazon Bedrock AgentCore Gateway, Model Context Protocol (MCP), Agentツール連携, AWS Lambda, Strands Agents]]

本記事は、既存のAWS Lambda関数をAmazon Bedrock AgentCore Gatewayを介してModel Context Protocol (MCP) 互換ツールに変換し、Strands Agentsから安全に呼び出す具体的な方法を解説しています。多くの企業システムに存在するREST APIやLambda関数は、そのままではAIエージェントから利用できませんが、MCP互換ツールにすることで、ClaudeやStrands Agentsのようなエージェントが既存のビジネスロジックを再利用できるようになります。

AgentCore Gatewayは、既存サービスを最小限のコード変更でエージェント対応ツールとして公開するゲートウェイ機能で、REST APIやLambdaなどをMCP/A2Aプロトコルに対応させ、認証・認可などのセキュリティ機能も提供します。

筆者は、旅行計画のシナリオ（運賃換算と予算チェック）を例に、`get_travel_time_and_fare`、`convert_currency`、`check_budget`という3つのLambda関数を実装。これらの関数をAgentCore Gatewayのターゲットとして登録し、それぞれにMCPスキーマを定義する手順を詳細に示しています。AgentCore Gatewayが自動生成するAmazon Cognitoを利用した認証情報も整理し、Strands Agentsからこれらのツールを連鎖的に呼び出すPythonコードを提示。ユーザーの質問に対し、エージェントが各ツールを順番に実行し、最終的な回答を導き出す様子を実演しました。

このアプローチの重要性は、開発者が既存のロジックを大幅に変更することなくAIエージェント対応が可能になる点にあります。AgentCore Gatewayが認証・アクセス制御を一元的に担うことで、社内APIやSaaSをセキュアにAIエージェントと連携させ、複雑なビジネスプロセスを自動化したり、最新データに基づいた高度なタスク実行を実現する基盤を提供します。これにより、ウェブアプリケーションエンジニアは、生成AIを活用した新たなアプリケーション開発において、既存資産を最大限に活かした効率的なアプローチが可能になります。