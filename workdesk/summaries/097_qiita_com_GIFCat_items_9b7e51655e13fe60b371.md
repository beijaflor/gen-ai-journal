## AIの「それっぽい答え」にサヨナラ👋 現場インタビューから生まれた、本当に”売れる”伝統工芸品を予測するAI開発の実装

https://qiita.com/GIFCat/items/9b7e51655e13fe60b371

信頼性の高いAI出力を実現するため、職人向け創作プロダクトに搭載された「海外消費者AI」機能の実装を、独自データ収集からモダンなアーキテクチャまで詳細に解説します。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:4/5 | Depth:4/5 | Unique:4/5 | Practical:4/5 | Anti-Hype:5/5
**Main Journal**: 82/100 | **Annex Potential**: 83/100 | **Overall**: 84/100

**Topics**: [[AI信頼性, 一次データ活用, Gemini Structured Output, クラウドネイティブ開発, フロントエンドUX]]

記事は、AIが生成する「それっぽい答え」の信頼性という共通の課題に対し、日本の伝統工芸品を海外市場向けに再デザイン・提案するプロダクトに搭載された「海外消費者AI」機能の開発事例を通じて、その克服方法を解説しています。

筆者らは、AIの出力の信頼性を確保するため、オープンソース情報に頼らず、独自の一次データ収集から着手しました。具体的には、日本の伝統工芸品を購入した海外消費者に街頭インタビューを実施し、購入動機や決め手に関する構造化されたアンケートを通じて、定性的な情報を定量的なデータへと変換。この一次データと公開情報を組み合わせ、11カ国の市場特性を数値化し、独自の「ペナルティ（減点）方式」を用いた購入確率予測アルゴリズムを開発しました。これにより、AIが「市場の感覚」に即した、より信頼性の高い評価を行える基盤を築いています。

技術実装面では、画像データ処理の効率化として、GCS上の画像に直接アクセスするアーキテクチャを採用し、Base64エンコードを完全に排除することでメモリ効率を50%改善。また、LLMの出力揺らぎを解決するため、Gemini 2.5 ProのStructured Output機能を最大限に活用し、厳密なJSONスキーマを定義することで、100%スキーマ準拠の安定したJSON出力を実現しています。スケーラビリティを考慮し、APIはセッション管理を行わない完全なステートレス設計とし、セッション情報はフロントエンドでFirestoreと非同期連携することでUXとバックエンドの負荷軽減を両立させています。

フロントエンドでは、体感速度向上のためにOptimistic Updateを導入し、ユーザーがメッセージ送信後すぐにUIを更新することでストレスフリーな対話体験を提供。ステートレスなバックエンドと連携しつつ、Firestoreで会話履歴を永続化する巧妙なセッション管理を実現しています。

この記事は、個々の技術要素だけでなく、それらを「AIの信頼性」という具体的な課題解決のためにどのように組み合わせ、システム全体として設計するかに焦点を当てています。ウェブアプリケーション開発者にとって、AIを活用したプロダクト開発におけるデータ戦略、アーキテクチャ設計、そしてユーザー体験の向上に関する実践的なヒントが豊富に提示されています。