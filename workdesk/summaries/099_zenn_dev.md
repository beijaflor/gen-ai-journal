## LLMは数理最適化がおおたまんよりも得意...かも？

https://zenn.dev/ohtaman/articles/opt-mcp-and-demo

自然言語による依頼から数理最適化問題を自動で定式化・実行・検証まで完結させる「数理最適化MCP（ReMIP MCP）」の実装とデモを公開する。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:5/5 | Depth:4/5 | Unique:4/5 | Practical:4/5 | Anti-Hype:4/5
**Main Journal**: 82/100 | **Annex Potential**: 80/100 | **Overall**: 84/100

**Topics**: [[MCP, 数理最適化, Pyodide, エージェントワークフロー, Gemini]]

数理最適化の専門知識をLLMで代替し、ドメイン知識を持つユーザーが直接最適化ループを回せる環境を構築する試みである。著者は、数理最適化における最大のボトルネックが「専門家によるモデリング」と「現場のドメイン知識による検証」の往復（試行錯誤のループ）にあると指摘し、LLMを専門家の代理として配置することでこの解消を狙っている。

技術的な中核は、Model Context Protocol（MCP）を用いた「ReMIP MCP」の構成にある。セキュアなPython実行環境としてWebAssemblyベースのPyodideを内包し、定式化ライブラリのPuLPやデータ操作のpandasを動かしつつ、計算負荷の高い最適化ソルバー（SCIP等）は外部サーバーで実行して仲介するアーキテクチャを採用した。これにより、LLMが生成する大規模な変数をコンテキスト制限に触れることなく処理可能にしている。

また、実用上の工夫として、LLM単体でのコーディングミスを補完する「マルチエージェント構成」を導入している。定式化を行う「remip-agent」に対し、出力内容をビジネス言語でチェックし、ツール実行の有無や結果の妥当性を検証する「mentor-agent」を配置。この自己修正ループにより、複雑なナーススケジューリング問題など、現実的で難度の高い問題に対しても、LLMが失敗を繰り返しながら最終的な解にたどり着く確率を大幅に向上させている。

Webアプリケーションエンジニアにとっての重要性は、これまで「専門家不在」を理由に断念していた複雑なリソース配分や計画策定の機能を、エージェントを介してプロダクトに組み込む具体的な道筋が示された点にある。特に、Pyodideによるサンドボックス化された実行環境とMCPを組み合わせるアプローチは、AIエージェントにコード実行権限を与える際のセキュアな実装パターンとして非常に参考になる。著者は、LLMの苦手な領域を数理最適化が補完する関係性の面白さを強調しており、エージェントの実用性を一段引き上げる好例といえる。