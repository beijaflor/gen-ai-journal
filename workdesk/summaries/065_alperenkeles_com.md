## テストせよ、(単に)検証するのではなく

https://alperenkeles.com/posts/test-dont-verify/

**Original Title**: Test, don't (just) verify

AIによる形式検証の進化を認めつつ、現実のソフトウェアにおける検証の限界を指摘し、検証とテストを統合する「検証主導開発（VGD）」の必要性を論じる。

**Content Type**: 💭 Opinion & Commentary
**Language**: en

**Scores**: Signal:5/5 | Depth:5/5 | Unique:4/5 | Practical:4/5 | Anti-Hype:5/5
**Main Journal**: 91/100 | **Annex Potential**: 91/100 | **Overall**: 92/100

**Topics**: [[形式検証, ソフトウェアテスト, 検証主導開発(VGD), AI駆動開発, 信頼された計算基盤(TCB)]]

AIとLLMの進化により、これまで極めてハードルの高かった「形式検証（Formal Verification）」がメインストリームになりつつある。MicrosoftのLeanなどの証明アシスタントが注目を集め、AIが複雑な数学的証明やコードの正確性を保証する未来に期待が寄せられている。しかし、筆者は形式検証が万能であるという過度な期待に対し、現実的なソフトウェア工学の観点から警鐘を鳴らし、テストが持つ不可欠な役割を再定義している。

形式検証の利点として、AIが仕様の自動定式化（Autoformalization）を助け、人間にとって困難な証明プロセスを効率化できる点が挙げられる。しかし、筆者はいくつかの重大な欠点を指摘する。第一に、自然言語の仕様から形式仕様への変換自体が検証不能な「信頼された計算基盤（TCB）」の一部となり、人知れず誤った前提が入り込むリスクがあることだ。第二に、証明アシスタント上のコードは数学的抽象化（ペアノ数など）を用いるため、実行速度が極めて遅い。これを回避するための「抽出（Extraction）」プロセスで効率的なデータ型に置き換える際、証明の連続性が失われ、結局はTCBを拡大させるジレンマに陥る。第三に、現代のCPUアーキテクチャ（キャッシュラインや投機実行など）は複雑すぎてモデル化が困難であり、実際のハードウェア上での挙動やパフォーマンスを検証だけで保証することは不可能に近い。

ここで重要になるのが「テスト」の役割だ。検証は「正しさ」を証明しようとするが、テスト（特にランダムテスト）は「誤り」を見つけ出す（反証する）ことに長けている。筆者は、この両者の強みを融合させた「検証主導開発（Verification-Guided Development: VGD）」を推奨する。これは、論理的に正しいが低速な「検証済み参照実装」と、最適化された「本番用実装」の2つを用意し、両者が同じ入力に対して同一の出力を返すかをランダムテストで突き合わせる手法だ。これにより、検証による論理性と、実用的なパフォーマンス・現実のハードウェアへの適合性を両立できる。

筆者の主張の核心は、AI時代においてもテストは形式検証に取って代わられるものではなく、むしろ高度な仕様を活用することでテストの価値がさらに高まるということだ。ウェブアプリケーションエンジニアにとっても、検証とテストを相補的に活用するVGDのようなアプローチこそが、バグを「常態」から「撲滅可能な例外」へと変える現実的な道筋であると著者は結論付けている。