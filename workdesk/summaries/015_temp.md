## うちのAIがやらかしまして ─ Claude Codeの暴走を防ぐCLAUDE.md運用術

https://tech.findy.co.jp/entry/2025/12/06/070000

Findyのエンジニアは、AIエージェントClaude Codeの「やらかし」経験から、曖昧な指示の排除とコミット前確認を義務付ける`CLAUDE.md`運用術を確立し、効果的な協働の重要性を示す。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:4/5 | Depth:3/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:5/5
**Main Journal**: 84/100 | **Annex Potential**: 83/100 | **Overall**: 84/100

**Topics**: [[AIエージェント, Claude Code, プロンプトエンジニアリング, 開発ワークフロー, コードレビュー]]

Findyのエンジニアである森氏は、AIエージェントClaude Codeとの協働における自身の「やらかし」事例と、それを防ぐための具体的な対策を紹介しています。本記事の目的は、AIの予期せぬ挙動を未然に防ぎ、AIエージェントとのより効果的なパートナーシップを築くための実践的な知見を共有することです。

森氏が経験した主な「やらかし」は二つです。一つ目は、曖昧な指示によりClaude Codeが意図しないGitHubのコードレビューコメントを投稿してしまった事例です。これは「コードレビューを確認して対応して」という指示が、単なる確認ではなく返信を促すものとして解釈されたために発生しました。二つ目は、Pull Requestに作業指示外の一時ファイル（`CLAUDE.md.backup`）が意図せずコミットされてしまった事例です。これは`git add -A`コマンドにより、一時的なバックアップファイルまで全てコミット対象に含まれてしまったことが原因でした。

これらの経験から、森氏は同じミスを繰り返さないための対策として、AIエージェントの行動を律する`CLAUDE.md`（AIへの指示や行動規範を記述するファイル）の運用を強化することを提唱しています。具体的な改善策は以下の二点です。

1.  **曖昧な指示に対する確認プロンプトの追加**: `CLAUDE.md`に「指示に不明な点や曖昧な点がある場合、作業を進めずに質問を返してください」という指示を追加しました。これにより、AIが勝手な解釈で行動するリスクを低減します。
2.  **コミット前ステージング内容の確認**: `CLAUDE.md`に「コミット前にステージングされているファイルを確認すること」「意図していないファイルが含まれていないことを確認すること」という指示と、具体的なコマンド例（`git status`, `git diff --cached --name-only`）を追加しました。これにより、不要なファイルの混入を防ぎます。

著者は、AIエージェントは最初から完璧に期待に応えるわけではなく、時に「やらかし」を経験しながら、その再発防止策を考え、共に成長していくパートナーとして向き合うべきだと結論付けています。本記事は、AIエージェントを開発ワークフローに組み込む上で直面しがちな課題に対し、具体的な運用改善で対処できることを示唆しており、webアプリケーションエンジニアにとって実践的な学びとなるでしょう。