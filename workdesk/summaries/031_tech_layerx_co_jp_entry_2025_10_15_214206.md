## Agentic WorkflowをAgentと共に構築するために：ValidatorとLSPで支えるAI協働開発

https://tech.layerx.co.jp/entry/2025/10/15/214206

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:4/5 | Depth:4/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 86/100 | **Annex Potential**: 84/100 | **Overall**: 84/100

**Topics**: [[AIエージェント, ワークフロー自動化, DSL, LSP, コード検証]]

LayerXのエンジニアが、AIエージェントと人間が協調してAgentic WorkflowのDSLを構築する際の品質と効率を高めるため、DSLの静的解析と即時フィードバックを可能にするValidatorとLSPサーバーを開発し、その有効性を示しました。

この記事では、LayerXのAi Workforce事業部のエンジニアが、AIエージェントと人間がAgentic Workflow（ワークフローを定義するYAML形式のDSL）を協調して構築する際の課題を解決する、ValidatorとLSPサーバーの実装について解説しています。

筆者は、AIエージェントの能力向上に伴い業務での安定利用にはワークフローの事前定義が不可欠であり、多くのワークフローがDSLで記述されると指摘します。しかし、LLMにDSLを生成させると、構文エラーや意味的な誤り（循環依存など）が発生しやすく、実行時検証ではコストと時間が大きい点が課題です。このため、静的解析によってエージェントや人間がすぐにミスを修正できる仕組みが求められます。

この問題に対処するため、筆者らは簡単なDSLの意味解析を行うValidatorと、エディタ上から即座にDSLを検証できるLSPサーバーを試作しました。このシステムは、`ruamel.yaml`によるパース、`jsonschema`による構文検証、そして独自の意味解析によって循環依存などを検出し、その結果をエディタ上に可視化することで、人間がDSLの間違いに気づき修正しやすくします。

さらに重要な点として、このValidatorのコア部分はAIエージェントが「ツール」として利用できるよう設計されています。具体例として、エージェントがワークフロー改変時にValidatorを呼び出して循環依存のエラーを検出し、そのフィードバックに基づいて自律的にワークフローを修正するデモンストレーションが示されています。これにより、エージェントが独力で、より正確なワークフローの修正を行える可能性が実証されました。

著者は、ワークフローのValidatorがエージェントへの即座なフィードバックを可能にし、AIと人が信頼性の高いワークフローを共に作り上げる上で極めて重要であると強調しています。また、LSPサーバーとして提供することで、開発者は使い慣れたエディタで効率的にワークフローを開発・修正でき、人間とAIの協働開発の基盤が強化されると結論付けています。この取り組みは、LLMを用いたプロダクト開発における品質保証と開発効率化に貢献する具体的なアプローチであり、WebアプリケーションエンジニアがAIエージェントを実業務に導入する際の大きなヒントとなるでしょう。