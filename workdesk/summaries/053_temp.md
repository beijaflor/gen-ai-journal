## AI時代のアーキテクトは「文脈」を設計せよ ― 非決定的なAIを制御するコンテキストモデリング

https://zenn.dev/loglass/articles/31ff1820fec6e0

AIの非決定的な振る舞いを制御し、その出力をシャープにし、人間が説明責任を負う範囲を明確にするため、アーキテクトは「焦点・境界・粒度」の3軸でAIに渡す「文脈（世界）」を設計する「コンテキストモデリング」に取り組むべきだと筆者は提唱します。

**Content Type**: 🛠️ Technical Reference
**Language**: ja

**Scores**: Signal:4/5 | Depth:5/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:5/5
**Main Journal**: 92/100 | **Annex Potential**: 91/100 | **Overall**: 92/100

**Topics**: [[AIアーキテクチャ, コンテキストモデリング, 非決定性AI, プロンプトエンジニアリング, ドメイン駆動設計]]

近年目覚ましい進化を遂げる生成AIですが、「結局、大事な判断は自分でやっている」「AIの答えを毎回整理し直している」といった「AI任せにできない」感覚は、多くの場合、AIモデル自体ではなく、AIに渡す「文脈（コンテキスト）」の設計不足に起因すると筆者は指摘します。従来の決定論的なシステムとは異なり、LLMなどのAIは確率モデルに基づいて非決定的な振る舞いをするため、AIが何を、どの範囲で担当し、その出力がどの文脈に基づいているのかを人間側が意識的に設計することが不可欠です。

本記事では、この課題解決のために「コンテキストモデリング」という概念を提唱し、これを「焦点・境界・粒度」の3つの設計軸で「AIに渡す世界」を設計することと定義します。

1.  **焦点（Focus）**: このやり取りでAIに「どんな問いに答えさせたいのか」を決めます。例えば「トラブルシュートのため」「契約条件説明のため」といった問いの型を明確にすることで、AIに渡す文脈を絞り込み、的を射た回答を促します。
2.  **境界（Boundary）**: 「どこまでを同じ世界として扱うか」を定義します。ユーザーの契約プランや有効な機能など、「そのユーザーにとって有効な情報」の範囲を設定することで、無関係な情報がノイズとして混入するのを防ぎます。これは、ドメイン駆動設計（DDD）の境界づけられたコンテキストに通じる考え方です。
3.  **粒度（Granularity）**: 「世界をどの大きさのかたまりで切るか」を決めます。例えばカスタマーサポートにおいて「1件の問い合わせ〜クローズまで」を1ケースと見なすなど、ユースケースごとに「1まとまりの状況」を定義することで、AIに渡す履歴や検索する類似事例の単位を揃えます。これはDWH設計における粒度設計と同様の重要性を持ちます。

これらの軸は「焦点 → 境界 → 粒度」の順で決めることが重要であり、プロンプトエンジニアリング（How to Ask）やコンテキストエンジニアリング（How to Implement）が技術的な実装論であるのに対し、コンテキストモデリングは、AIに投げる前の段階で「何をどう束ねるか（What to Structure）」という意味の設計を行う点に違いがあります。

適切に設計されたコンテキストは、AIの出力をシャープにし、「毎回の整理し直し」や「根拠の見えなさ」を大幅に改善します。これにより、AIの出力を構造として扱いやすくし、その説明責任の所在を明確にすることが可能になります。ただし、最終的な価値判断やリスクテイク、モデル内部のブラックボックス性は人間に残る領域であり、コンテキストモデリングは「AIの中身」ではなく「AIに渡した世界」を人間が説明できるようにするための設計であると筆者は強調します。

AI時代において、アーキテクトは従来の「技術の番人」に加え、「誰が、どんな文脈でAIに問いを渡し、どこまでの世界を前提に話をしているのか」という「意味のインフラ」を設計する重要な役割を担うことになります。