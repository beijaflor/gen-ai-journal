## ビジネス出身PMが、「AIのことはエンジニアにお任せ派」から「PMもAIエージェントを自作しよう派」になるまで

https://tech.layerx.co.jp/entry/2025/11/06/080000

コーディング未経験のプロダクトマネージャーが、自身の業務課題解決のためClaude Agent SDKを用いたAIエージェントを開発し、その実践から得られた具体的な知見と課題を共有する。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:4/5 | Depth:3/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 81/100 | **Annex Potential**: 80/100 | **Overall**: 80/100

**Topics**: [[AIエージェント開発, プロダクトマネジメント, Claude Agent SDK, RAG, Human-in-the-Loop]]

この記事は、コーディング未経験のビジネス出身PMが、自身の業務効率化のためにAIエージェントを自作した経験と学びを共有します。LayerXの稟議サービス「バクラク申請・経費精算」において、顧客の独自運用ルールをシステム設定に変換する工数負担を解決するため、Claude Agent SDKを利用した「お客様承認ルールの翻訳AIエージェント」を開発しました。

このエージェントは、自然言語で入力された顧客ルールをシステム用ルールに変換し、既存の検証済みルールとの類似度をRAGで評価する機能を持っています。システムはユーザーインターフェース、Claude Agent SDKを核とするAIエージェントエンジン、そしてフィールド定義取得、推薦、ルール生成、類似ルール検索といった複数のカスタムツールで構成されています。

筆者は非エンジニアの視点から、エージェントの実用性を高めるための工夫を3点挙げています。第一に、LLMがサービス上に存在しない項目を生成するのを防ぐため、利用可能なマスタや項目リストをToolとして外部から与え、出力の選択肢を制限し、出力の精度を安定させました。これにより「AIの出力を決定論的にする工夫」を実践しています。第二に、フィールド選択や演算子決定といった重要な分岐点では、必ず人間がレビューを行うHuman-in-the-Loop (HITL) を挟み、誤った解釈によるルールの進展を防いでいます。第三に、RAGによる類似ルール検索においては、具体的な値ではなくルールの「構造」の類似性を評価するため、LLMでルールを変数化してからベクトルデータベースに登録・検索するという工夫を凝らしました。

開発過程では、書籍を用いた学習に挑戦したものの、ライブラリのバージョン問題やLangGraphの複雑性により挫折。最終的には社内エンジニアの多大なサポートが不可欠であり、簡単なエージェントの雛形コード提供が実装成功の鍵だったと述べています。

この経験を通じて得られた学びとして、筆者は「素のLLMは思ったより『よしなに』動いてくれない」こと、特にB2Bサービスでは「エージェントを『自由にさせない』よう制御することの重要性」、そして「AIやエージェントは手段に過ぎず、目的化しない冷静な評価が必要」であることを強調します。書籍で「理論上わかった」内容も、実際に手を動かすことで初めて「対応の解像度」が格段に上がると実感。コーディング経験のないPMであっても、シンプルなエージェントを一度自作することで、エンジニアとのコミュニケーションが加速し、プロダクト価値の高速なデリバリーに繋がると結論付けています。ただし、非エンジニア単独での実装は非常に困難であり、エンジニアがPMをサポートする組織的な体制が、今後のAIエージェント開発において重要であると提言しています。