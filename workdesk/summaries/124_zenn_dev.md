## Claude Code の集中力を保つ Agent Skills を作った

https://zenn.dev/cureapp/articles/c5016035a7d53d

LLMの注意力の分散による精度低下を、タスクを1ステップずつ強制的に分割実行することで解決するClaude Code用Agent Skill「Progressive Workflow」を開発・公開。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:5/5 | Depth:4/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 89/100 | **Annex Potential**: 86/100 | **Overall**: 88/100

**Topics**: [[Claude Code, Agent Skills, LLM Attention, コードレビュー, ワークフロー自動化]]

LLMに複数の指示をまとめて与えると、指示の一部を無視したり、処理が表面的になったりする「注意力の分散」が発生する。著者は、このLLM特有の構造的な問題を解決するため、Claude Code向けのAgent Skill（拡張機能）である「Progressive Workflow」を開発した。

筆者によれば、AIによるセルフコードレビューなどで「セキュリティ」「パフォーマンス」「命名規則」といった多数の観点を一度に提示すると、Claudeはすべての条件を意識しようとするあまり、各観点への注意が薄まってしまう。例えば、セキュリティの観点が後半にあると、SQLインジェクションのような重大な問題を見逃す可能性が高まる。これを防ぐには、1つの観点に絞って個別に指示を出すのが最も効果的だが、手動で何度も依頼を繰り返すのは効率が悪い。

「Progressive Workflow」は、あらかじめ定義されたワークフローに基づき、Claudeに対して1ステップずつ順番に指示を渡していく仕組みを採用している。特定のステップ実行中、Claudeにはそのステップに関連する指示のみが可視化され、他のステップの情報は隠蔽される。これにより、Claudeの注意力を現在のタスクのみに「全集中」させることが可能になり、LLMが本来持つ深い分析能力を最大限に引き出せると著者は主張している。

使い方は、プロジェクト内に`workflows/`ディレクトリを作成し、YAMLファイルでステップの順序を、Markdownファイルで各ステップの具体的なプロンプトを定義する。実行時はClaude Code上で`/progressive-workflow`コマンドを叩くか、自然言語で実行を依頼する。定義されたワークフローに応じて、Claudeが自律的にツールを使い分け、段階的にタスクを完了させる。

著者はこのツールの活用例として、多角的なコードレビューのほか、曖昧な依頼を「課題明確化→調査→実装」と分解して進める調査タスク、壊れやすい複雑な作業を確実に進める「リファクタリングの連鎖」、そしてテスト・実装・リファクタリングを強制するTDD（テスト駆動開発）の補助などを挙げている。単に「ステップバイステップで考えて」と指示するだけでは防ぎきれない注意力の分散を、システム的な「視界制限」によって解決する実戦的なアプローチとして提示されている。