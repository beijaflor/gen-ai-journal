## 設計はAIと後で直せ。Claude Codeと駆け抜けた「Vibe Coding」16時間のOSS開発記 #Rust

https://qiita.com/take-yoda/items/bafb7b921bf8d16187ba

Claude Codeを用いた「Vibe Coding」の実践を通じ、設計よりもプロトタイプ開発を先行させ、後にAIで厳格なアーキテクチャへリファクタリングする開発手法の有効性と課題を検証する。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:4/5 | Depth:4/5 | Unique:5/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 90/100 | **Annex Potential**: 90/100 | **Overall**: 88/100

**Topics**: [[Claude Code, Vibe Coding, Rust, ヘキサゴナルアーキテクチャ, SBOM]]

著者の依田氏は、Rust初学者でありながら、最新のAIエージェント「Claude Code」を駆使して、わずか16時間でOSSツール「uv-sbom」を作り上げた過程を詳細にレポートしている。本記事の核心は、まずAIとの対話のみで動くものを作る「Vibe Coding（バイブ・コーディング）」を先行させ、その後に人間が設計を主導してリファクタリングを行うという二段構えの開発サイクルにある。

最初の1時間では、設計を一切考慮せずプロンプトのみでプロトタイプを構築。この段階で「動くもの」を手に入れたことで、当初想定していなかった「直接依存と推移的依存の区別」といった真のユーザーニーズを早期に発見できたと述べている。特筆すべきは、続く15時間のリファクタリング工程だ。著者はAIに対し、DDD、ヘキサゴナルアーキテクチャ、スクリーミングアーキテクチャといった高度な設計パターンの適用を指示。7ファイルで構成された泥団子状態のコードを、29ファイルからなる責務の明確なプロジェクトへと進化させた。このプロセスにより、ポート＆アダプターパターンによるI/Oの分離が実現し、DI（依存性の注入）によってテスト容易性と認知負荷の低減が図られた。

しかし、著者はAIによる自動開発の限界も冷静に分析している。まず、開発の最大ボトルネックは「AIのクォータ制限（利用制限）」であったこと。また、AIは大規模なコード生成において「未使用な関数の放置」といった細かな散らかしが発生しやすく、最終的なコンパイル警告の解消には人間の手が必要となる。さらに深刻な点として、シンボリックリンク攻撃のようなセキュリティ上の脆弱性は、明示的に指示しない限りAIが見落とすリスクがあることを指摘。セキュリティ検証モジュールの追加などは、著者の知見に基づいた修正が必要であった。

結論として、著者はAI時代の設計戦略を提示している。小規模プロジェクトであれば、まずプロトタイプを作って価値を検証し、後からAIでリファクタリングする「設計後回し」の手法が極めて効率的である。一方で、中規模以上のプロジェクトやAIの制限が厳しい環境では、最初からアーキテクチャを「コンテキスト」としてAIに共有しておく方が、手戻りを防ぎ効率を最大化できると主張している。AIは実装を強力に代行するが、エンジニアとしての基礎知識（FizzBuzzが書ける程度の能力）の習得を代替するものではないという結びは、これからの開発者像を示唆している。