## 「継続的な改善」でAIの出力を向上させる：Firebase ADKによるループ型エージェントの実践

https://firebase.blog/posts/2026/01/continuous-improvement/

**Original Title**: Improve AI output with continuous improvement

ループ型のエージェント構成を用いて「生成」と「批評」を繰り返すことで、単発のプロンプトよりも高品質で信頼性の高いAI出力を実現する設計パターンを解説する。

**Content Type**: 🛠️ Technical Reference
**Language**: en

**Scores**: Signal:5/5 | Depth:4/5 | Unique:3/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 85/100 | **Annex Potential**: 81/100 | **Overall**: 84/100

**Topics**: [[Firebase ADK, AIエージェント, LoopAgent, マルチエージェント・オーケストレーション, プロンプトエンジニアリング]]

Firebaseの技術ブログより、AIエージェントの出力品質を「継続的な改善（Continuous Improvement）」というパターンによって劇的に高める手法が公開された。著者は、AIに一度のプロンプトで完璧な回答を求める（Single-shot）のではなく、複数のエージェントをループさせることで、人間が行うような「推敲」と「品質管理」のプロセスを自動化すべきだと主張している。

本記事の核心は、Firebase Agent Development Kit (ADK) に備わっている「LoopAgent」というプリミティブの活用にある。これは、生成を担当するエージェントと批評を担当するエージェントを組み合わせ、特定のパラメータに基づいて出力のブラッシュアップを繰り返す構造だ。記事では具体的なユースケースとして「パーソナルトレーニングのメニュー作成」を挙げ、以下の3段階のプロセスを詳述している。

1. **情報の抽出（Reception Agent）**: まずは「Human-in-the-loop」のプロセスとして、エージェントがユーザーに質問を重ねる。これにより、腰痛の有無や利用可能な器具といった、ユーザー自身も当初は言語化していなかった重要な制約条件を網羅的に引き出す。
2. **生成と批評のループ（LoopAgent）**: 情報を引き継いだ「Lifting Friend（生成役）」がメニュー案を作成し、「Lifting Pro（批評役）」がその内容を厳密にチェックする。例えば、「腰痛があるのに腰に負担がかかる種目が含まれていないか」「ボリュームが過剰ではないか」といった観点で批判を行い、修正案を生成役に戻す。
3. **終了判定**: 批評側が「これ以上の改善は不要」と判断してループを抜けるツール（`exit_loop`）を呼び出すまで、このプロセスが反復される（通常2〜3回で十分な効果が得られるとされる）。

このアプローチの重要性は、AIの出力を「確率的な偶然」から「システム化された保証」へと移行させる点にある。著者は、この手法が「2〜3回のループで高品質な結果を得られる」と述べる一方で、推論回数の増加による「コスト」と「レイテンシ」の増大という現実的なトレードオフも率直に認めている。そのため、リアルタイム性が求められるチャット応答よりも、一度作成すれば長期間利用するような「高精度な計画策定（フィットネス、学習、業務設計など）」にこそ、このループ構造が最適であると結論づけている。Webアプリケーションエンジニアにとって、エージェントを単一の関数としてではなく、批評機能を持つ「自己修正システム」として設計するための具体的な実装指針となるだろう。