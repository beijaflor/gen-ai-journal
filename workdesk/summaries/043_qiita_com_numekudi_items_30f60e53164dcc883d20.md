## RustとAIで、空の雲が「うんこ型」かどうか真剣にブラウザで推論する

https://qiita.com/numekudi/items/30f60e53164dcc883d20

筆者は、RustとAIを組み合わせ、ブラウザ上でリアルタイムに雲の形状が「うんこ型」かどうかを判定するユニークなWebアプリケーションを開発し、その技術的アプローチとコスト効率の利点を解説する。

**Content Type**: 📖 Tutorial & Guide
**Language**: ja

**Scores**: Signal:4/5 | Depth:4/5 | Unique:5/5 | Practical:4/5 | Anti-Hype:5/5
**Main Journal**: 85/100 | **Annex Potential**: 88/100 | **Overall**: 88/100

**Topics**: [[ブラウザAI推論, RustとWebAssembly, 画像セグメンテーション, Huモーメント, クライアントサイド最適化]]

この記事では、空の雲が「うんこ型」であるかをブラウザ上で真剣に推論する「クソアプリ」の開発事例が紹介されている。筆者は、現代のAI技術と古き良き画像処理手法を組み合わせ、コスト効率と実行効率に優れたWebアプリケーションの構築方法を詳細に解説している。

まず、雲の形状を検出するため、SWIMSEGデータセットを用いてU-Netモデルを学習させ、クラウド画像をセグメンテーションする。このモデルは、サーバーサイドのGPUコストを削減するため、TensorFlow.js形式でエクスポートされ、ユーザーのブラウザ上で直接推論が実行される。これにより、開発者は毎月のサーバー費用を抑えつつ、ユーザーへの素早いレスポンスを実現できると著者は説明する。

次に、セグメンテーションで得られた雲のマスクが「うんこ型」であるかを判定するため、Huモーメントという特徴記述子が採用されている。Huモーメントは回転やサイズの変化に頑健であり、形状マッチングに非常に適している。筆者は、OpenCVのようなライブラリがブラウザ向けにはオーバースペックであると判断し、パフォーマンスを重視してRustでHuモーメントの実装を行い、wasm-bindgenを通じてJavaScriptから呼び出せるようにした。このアプローチにより、M4 Macbook AirのChromeで1秒以内に推論が完了する高い応答性を実現している。

著者は、何でもLLMやTransformerに頼る傾向がある現代において、用途によってはTransformer以外の技術や、実行時のエコさを追求するアプローチの重要性を主張している。特に個人開発においては、毎月のサーバー費用やレスポンスタイムを考慮し、クライアントサイドでの処理を選択することで、開発スコープと性能を完全にコントロールできる利点を強調している。この事例は、ユニークな発想と実践的な技術選択が組み合わされた、Webアプリケーション開発者にとって示唆に富む内容となっている。