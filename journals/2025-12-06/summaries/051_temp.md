## AIエージェント運用費がほぼ半減した、マルチエージェントへの移行事例

https://tech.enechange.co.jp/entry/2025/12/01/000000

ENECHANGEは、AIエージェントの運用コストを削減するため、「ブログほめ太郎」をシングルエージェント構成からマルチエージェント構成へ移行し、入力トークン53%減、合計費用43%減を達成したと報告する。

**Content Type**: Tools
**Language**: ja

**Scores**: Signal:4/5 | Depth:4/5 | Unique:3/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 81/100 | **Annex Potential**: 77/100 | **Overall**: 80/100

**Topics**: [[AIエージェント, マルチエージェント, コスト最適化, トークンエコノミー, Strands Agents]]

この記事は、ENECHANGEが開発したブログ記事レビューAIエージェント「ブログほめ太郎」を事例に、AIエージェントの運用コストを大幅に削減した経験を詳述しています。筆者は、複数のステップで処理を行うシングルエージェントが、途中のステップで利用した大量のデータを会話履歴に引き継いでしまい、無駄なトークンを消費する「富豪的シングルエージェント」になりがちであるという問題提起から議論を始めます。

当初のシンプルなシングルエージェント構成では、記事全文といった大量のデータがレビュー生成後に続くSlack投稿やパラメータストア更新のステップでもLLMに渡され続け、運用開始後しばらくして多大なトークン浪費が発覚しました。特に、記事全文のトークンが10,000を超え、新着記事が1件の場合でも合計入力トークンが5万を超えていました。

この課題に対し、同社は「ブログほめ太郎」をマルチエージェント構成に移行。新着記事検索、記事レビュー、Slack投稿、最終レビュー記事URL更新の4つの専門エージェントに役割を分割しました。この設計の核は、各エージェントがその役割を果たすのに必要な最小限のデータのみを受け取るようにすることです。たとえば、Slack投稿エージェントにはレビュー結果のみを渡し、記事全文は渡しません。

結果として、LLM呼び出し回数は6回から9回に増加したものの、会話が効率化され、入力トークンは54,326から25,568へ53%削減、合計費用も$0.209から$0.120へ43%削減という顕著な効果を得ました。これは、途中のステップで大きなデータを処理し、その後は不要になるようなフローを持つシングルエージェントに対して特に有効な最適化手法であると筆者は指摘しています。

ただし、マルチエージェント構成にはエージェント数増加によるメモリ使用量増加のリスクがあるため、記事の終盤でエージェントを明示的に解放する`del agent; gc.collect()`のようなメモリ管理の重要性も強調されています。また、Strands AgentsにおけるOpenTelemetryとJaegerを用いたトレース方法も紹介されており、開発者が自身のAIエージェントのトークン消費状況を可視化し、無駄を特定するための実用的なガイダンスを提供しています。