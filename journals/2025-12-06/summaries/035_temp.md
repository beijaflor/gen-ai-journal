## Human-in-the-Loop な AI エージェントを作るためのソフトウェア設計

https://www.wantedly.com/companies/wantedly/post_articles/1026657

Wantedlyは、採用活動における候補者ソーシングの自動化と信頼性を両立させるため、AIエージェントモードの開発においてHuman-in-the-Loop（HITL）の設計思想とワークフロー型アプローチを採用し、安全で説明責任のあるシステムを構築した。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:5/5 | Depth:4/5 | Unique:3/5 | Practical:4/5 | Anti-Hype:4/5
**Main Journal**: 79/100 | **Annex Potential**: 76/100 | **Overall**: 80/100

**Topics**: [[AIエージェント, Human-in-the-Loop, ソフトウェア設計, LLM活用, 採用活動自動化]]

ウォンテッドリーは、スカウト機能の新機能「AIエージェントモード」を開発し、採用担当者の候補者ソーシングにかかる工数削減を目指しています。この機能では、AIが採用要件に基づいてソーシング計画を生成し、候補者を自動でリスト化しますが、AIが生成する検索条件の揺れ、判断の追跡不能性、LLMの推論バイアスといった課題が認識されました。特に採用領域では、ユーザーのキャリアや企業の信用に関わるため、安全性と信頼性の確保が不可欠でした。

この課題に対し、同社はHuman-in-the-Loop（HITL）という設計思想を採用しました。HITLは、AIや自動化システムの中に意図的に人間の判断ステップを組み込むことで、致命的な誤動作を防ぎ、判断の理由を追跡可能にし、AIの信頼性を人間が最終的に握ることを可能にするものです。具体的には、AIが「ソーシング計画」を提示した後、人間がその計画を確認・修正・承認し、その指示に従ってバックエンドが候補者リストを作成する流れを導入しました。これにより、安全性と説明責任を確保しています。

ソーシング計画作成の実現方式としては、「LLMにツールを渡し、計画作成フロー全体を任せる（モデル駆動型）」と「フロー制御はプログラムが行い、LLMは部分的に利用する（ワークフロー型）」の二択がありました。Wantedlyは、挙動の一貫性、説明可能性、テスト容易性、セキュリティ、コスト予測性、汎用性、拡張性といった複数のトレードオフを考慮した結果、後者のワークフロー型を採用しました。

この選択の主な理由は、ソーシング計画作成の手順が高度ではないためLLMに全てを委任する必要性が低いこと、LLMの挙動のばらつきを局所化できること、そして失敗時の再実行や追跡性が高いことにあります。BtoB領域における候補者リスト化のような明確な業務目標がある場合、会話性や汎用性よりも、確実な運用が重視されます。将来的には部分的にモデル駆動型へ移行する可能性も残しつつ、現状ではワークフロー型が最適なアプローチと判断されました。