## Claude Codeを用いて仕様書の自動更新の仕組みを構築した話

https://zenn.dev/dely_jp/articles/f6a6ce32406851

delyのエンジニアチームは、複雑なアフィリエイト仕様書の手動更新による課題を解決するため、Claude CodeとNotion MCPを連携させ、Git履歴に基づく自動更新システムを構築し、問い合わせ対応時間を25%削減しました。

**Content Type**: ⚙️ Tools

**Scores**: Signal:4/5 | Depth:4/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 86/100 | **Annex Potential**: 84/100 | **Overall**: 84/100

**Topics**: [[Claude Code, Notion MCP, 自動ドキュメント生成, 開発ワークフロー改善, プロンプトエンジニアリング]]

delyのエンジニアリングチームは、複雑化するアフィリエイト成果通知システムの仕様書更新と、それに伴う運用チームからの問い合わせ対応に膨大な工数を費やしていました。既存の仕様書は古く、常にコード調査が必要な状態が課題となっていました。

この課題に対し、チームはClaude CodeとNotion MCP（Managed Components for Plugins）を連携させた自動更新システムを構築しました。このシステムは、監視対象のコード変更をGit履歴から検出し、その内容をClaude Codeが分析。非エンジニアでも理解しやすい仕様書を自動生成し、Notionページに同期するというワークフローを実現しています。特に、Notion公式ホスト型MCPサーバーを利用することで、APIトークンなしでセキュアかつ容易な連携が可能になった点が重要です。

システムの中核を担うのは、`/update-affiliate-docs`のようなカスタムコマンドです。これにより、対象期間やNotionページID、用語集の参照設定などをパラメータとして渡し、ワンコマンドで仕様書更新プロセスを開始できます。プロンプトエンジニアリングでは、社内用語集を参照させたり、過去の問い合わせ内容と回答を学習させたりすることで、出力品質と一貫性を高めています。

この導入により、運用チームの問い合わせ対応時間が25%削減されるという明確な効果が確認されました。エンジニア側も、仕様書確認による即時回答が増え、調査工数が大幅に削減されています。今後は非エンジニア側のセルフサービス化がさらに進み、問い合わせ数の削減が期待されます。Claude Codeのカスタムコマンド機能の柔軟性と実用性が、開発現場の具体的な課題解決に貢献した好例と言えるでしょう。