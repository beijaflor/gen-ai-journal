## AIでアンケートQAはどこまで自動化できるか？プロンプトエンジニアリングの試行錯誤と実践知

https://www.m3tech.blog/entry/2025/09/05/110000

エムスリーは、プロンプトエンジニアリングの工夫により、AIを活用してアンケートQAの差分チェックを半日という短期間で自動化し、精度と開発効率を大幅に向上させました。

**Content Type**: ⚙️ Tools

**Scores**: Signal:4/5 | Depth:4/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:5/5
**Main Journal**: 88/100 | **Annex Potential**: 87/100 | **Overall**: 88/100

**Topics**: [[AI QA automation, プロンプトエンジニアリング, LLMアプリケーション開発, Dify, 開発ワークフロー効率化]]

エムスリーは、医師向けアンケートサービスにおけるQAプロセスの大幅な効率化を実現しました。特に、長期にわたり更新される約40種類のアンケートの調査票（スプレッドシート）と、Go言語で構築された自社システム「ibis」上のアンケート定義との「差分チェック」は、手動での目視確認に伴う膨大な時間と修正ミスの発生が課題でした。この課題を解決するため、AIアプリケーション開発プラットフォームDifyを活用し、わずか半日で高精度な自動チェックツールを開発。人力による目視確認からAIによる自動化への転換に成功しました。

この成功の鍵は、徹底したプロンプトエンジニアリングにあります。Webアプリケーションエンジニアが同様のLLM活用を試みる際に特に重要となる具体的な工夫が三点紹介されています。
第一に、AIに各データの構造（例：「調査票の3列目は設問文、5列目は選択肢」「アンケート定義の1列目は行番号」）を「事前知識」として明確に定義することで、AIは各項目を正確に紐付け、無関係な列比較によるハルシネーションを防ぎました。
第二に、「アンケート定義誤りのパターン」と「誤りでないパターン」を具体例としてプロンプトに組み込むことで、人間が許容する表記揺れ（例：【】と${}）と、実際に修正すべき誤りをAIが的確に区別できるようチューニング。これはFew-Shot Learning（少数事例学習）のように、AIの判断基準を人間の意図に合致させる上で極めて効果的でした。
第三に、アンケート定義CSVに連番（行番号）を付与し、「エラー報告時に行番号を必ず記載する」と指示することで、AIの「集中力」を持続させ、長大なデータでもファイルの最初から最後まで漏れなく網羅的にチェックさせる技術的な制約を与えました。

これらの工夫により、設問・選択肢の文章差異、重複、抜け漏れなどを高精度で検出し、QA工数を大幅に削減しつつ品質を向上。例えば「ガングリオシドーシス」の誤記も即座に検出できたとのことです。将来的には、調査票からのアンケート定義自動生成へと展望を広げ、作成プロセス全体の自動化を目指しています。本事例は、形式の異なるデータ比較といった、一見AIが苦手とするタスクでも、プロンプトとデータの「渡し方」を深く工夫することで、劇的な効率化と信頼性の向上が図れることを具体的に示しており、Web開発におけるLLM活用を検討する上で非常に示唆に富んでいます。