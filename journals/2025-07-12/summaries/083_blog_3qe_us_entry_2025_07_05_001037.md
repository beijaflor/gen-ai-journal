## Claude Code くんのホームディレクトリ破壊を AppArmor で阻止 ...

https://blog.3qe.us/entry/2025/07/05/001037

AIエージェントによるホームディレクトリ破壊を防ぐため、AppArmorを用いたファイルシステムアクセス制限の具体的な設定方法を解説します。

[[AIエージェント, セキュリティ, AppArmor, 開発環境, ファイルアクセス制御]]

この記事は、AIエージェント「Claude Code」がユーザーのホームディレクトリを破壊した事例を受け、その書き込み権限を特定のプロジェクトディレクトリに限定するためにAppArmorを活用する方法を詳細に説明しています。AIエージェントの利用が広がる中で、意図しないファイル操作によるシステムへの影響を防ぐセキュリティ対策の重要性を強調しています。`aa-genprof`や`apparmor_parser`コマンドを用いたAppArmorプロファイルの作成・変更手順、`aa-exec`によるプロファイル適用、そして`aa-logprof`や監査ログを用いたトラブルシューティング方法が具体的に示されており、開発者がAIエージェントを安全に利用するための実践的なガイドとなっています。

---

**編集者ノート**: AIエージェントが開発ワークフローに深く組み込まれるにつれて、その「自律性」がもたらすリスクは無視できません。特に、ファイルシステムへのアクセス権限は、開発環境の安定性を直接左右します。この記事は、AIエージェントの暴走が現実の脅威であることを示し、AppArmorのようなOSレベルのセキュリティ機構がいかに重要であるかを再認識させます。今後は、開発ツールとしてのAIエージェントの導入と並行して、サンドボックス化や権限管理のベストプラクティスが必須となるでしょう。CI/CDパイプラインにおいても、AIエージェントが関与するステップでは、厳格なアクセス制御と監査ログの監視が標準化されると予測します。
