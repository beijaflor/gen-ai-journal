## Claude Code暴走対策 | gomiコマンドでrmの事故を防ぐ

https://qiita.com/Enokisan/items/0d498fa6943f3c463675

AIによる`rm`コマンド暴走からファイルを保護するため、`gomi`コマンドを導入し、ファイルの安全な削除と容易な復元を実現する設定方法を詳述します。

**Content Type**: ⚙️ Tools

**Scores**: Signal:4/5 | Depth:3/5 | Unique:3/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 77/100 | **Annex Potential**: 73/100 | **Overall**: 76/100

**Topics**: [[AIコード生成の安全性, CLIツール, ファイル管理, 開発ワークフロー, シェルエイリアス]]

AI開発ツール、特にClaude Codeのような強力なツールは、コード生成やファイル操作において予測不能な動作を示すリスクをはらんでおり、最悪の場合、`rm -rf *`のような危険なコマンドを実行し、重要なファイルを誤って削除してしまう可能性があります。本記事は、この致命的な事故を防ぐための効果的な解決策として、`rm`コマンドの代替ツールである`gomi`（ゴミ）コマンドの導入を提案します。

`gomi`は、従来の`rm`コマンドと全く同じ構文で使用できながら、ファイルを完全に削除するのではなく、デスクトップ環境のゴミ箱（XDG Trash仕様準拠）へ移動させることで、いつでも簡単に復元できる安全な設計が特徴です。さらに、Go言語で書かれた高いパフォーマンス、削除ファイルの閲覧・復元が容易な美しいTUI（テキストユーザーインターフェース）、そして重要なシステムディレクトリの保護といった優れた機能を提供します。

Webアプリケーションエンジニアにとって、この対策は極めて実用的です。Homebrewを使った簡単なインストール後、`.zshrc`や`.bashrc`などのシェル設定ファイルに`alias rm="gomi"`と追記するだけで、既存のワークフローを変えることなく安全性を格段に向上させることができます。これにより、AIが生成したコードに意図せず危険な`rm`コマンドが含まれていても、ファイルがゴミ箱へ移動されるため、データ損失のリスクを大幅に低減し、万が一の際も迅速に復元が可能になります。AIによる開発効率化が進む中で、予期せぬ挙動から資産を守るこのような事前対策は、安心してAIツールを導入・活用するための必須要件と言えるでしょう。