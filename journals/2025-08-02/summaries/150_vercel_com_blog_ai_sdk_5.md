## AI SDK 5

https://vercel.com/blog/ai-sdk-5

Vercelは、フルスタックAIアプリケーション開発を加速するため、型安全なチャット、エージェントループ制御、強化されたツール機能を提供するAI SDK 5をリリースしました。

**Content Type**: ⚙️ Tools

**Scores**: Signal:5/5 | Depth:5/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 94/100 | **Annex Potential**: 90/100 | **Overall**: 92/100

**Topics**: [[AI SDK, 型安全なAIアプリケーション開発, エージェント制御, 音声生成・認識, Webフレームワーク統合]]

AI SDK 5は、TypeScript/JavaScript向けに開発されたオープンソースのAIアプリケーションツールキットであり、フルスタックAIアプリ開発を大幅に強化します。特にWebアプリケーションエンジニアにとって、堅牢で保守性の高いAI体験を構築するための強力な基盤となるでしょう。

最大の特長は「Redesigned Chat」です。これは、UI表示用の`UIMessage`とモデル通信用の`ModelMessage`を明確に分離することで、チャット履歴の永続化を劇的に簡素化しました。さらに、`Data Parts`により、ステータス更新や部分的なツール結果など、任意のカスタムデータを型安全にサーバーからクライアントへストリーミングできます。これにより、複雑なUIでもランタイムチェックなしでデータやツール進捗を正確に表示可能となり、メンテナンス性が向上します。また、ツール呼び出しもエンドツーエンドの型安全性を実現し、各ツールの状態（入力ストリーミング、出力、エラー）を明示的に扱うことで、ユーザー体験を細かく制御できます。

「Agentic Loop Control」は、AIエージェントの実行フローとコンテキストに対する精密な制御を可能にします。`stopWhen`を使用することで、特定ステップ数やツール呼び出しなど、エージェントループの停止条件を柔軟に設定できます。また、`prepareStep`フックを使えば、各ステップでモデルの切り替え、メッセージの圧縮、ツールの有効/無効化などを動的に調整でき、より効率的で賢いエージェントの構築を支援します。

その他にも、統一されたAPIによる音声生成・認識（Text-to-Speech / Speech-to-Text）機能が実験的に導入され、プロバイダの切り替えが容易になりました。ツール機能も、`inputSchema`/`outputSchema`の明確化、実行時に型が決定される`Dynamic Tools`、プロバイダ実行ツールへの対応、ツールライフサイクル・フックの追加など多岐にわたり改善されています。これらはModel Context Protocol (MCP)との整合性を高め、複雑なAIワークフローを構築する上で開発者体験を大きく向上させます。

V2仕様への更新とグローバルプロバイダ機能は、AI SDKの基盤を強化し、プロバイダの切り替えや管理をさらに簡素化します。主要なWebフレームワーク（React, Svelte, Vue, Angular）で一貫した開発体験を提供し、型安全性を徹底することで、大規模かつ複雑なAIアプリケーションのスケーラビリティと保守性を飛躍的に向上させるAI SDK 5は、AIを活用したインタラクティブなWeb体験を追求する開発者にとって極めて重要です。