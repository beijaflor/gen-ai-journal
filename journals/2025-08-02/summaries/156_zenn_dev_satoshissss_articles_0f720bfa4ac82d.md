## 【備忘録】Claude Codeの強制自動更新を止める方法 - autoUpdates falseが効かない時の対処法

https://zenn.dev/satoshissss/articles/0f720bfa4ac82d

Claude Codeの不安定な挙動は、旧バージョンへのダウングレードと`DISABLE_AUTOUPDATER`環境変数の設定で自動更新を無効化することで解決します。

**Content Type**: ⚙️ Tools

**Scores**: Signal:4/5 | Depth:4/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 86/100 | **Annex Potential**: 84/100 | **Overall**: 84/100

**Topics**: [[Claude Code, LLM開発ツール, CLIツール, バージョン管理, トラブルシューティング]]

Claude Code CLIツール、特にバージョン1.0.61において、コンテキスト喪失、コードの意図しない削除、さらにはClaude 4の性能劣化といった深刻な問題が報告されています。これは、AIを活用して生産性向上を目指す開発者にとって、ワークフローを著しく阻害し、修正作業に本質的な開発時間を費やすという逆効果を生むため、迅速な対応が求められます。

この記事は、これらの致命的なバグを回避するための具体的な解決策を提示しています。まず、現行バージョンが意図せず自動更新される問題を解決するため、安定した旧バージョン（例：1.0.33）へのダウングレードが推奨されます。この際、`npm install`コマンドで指定したバージョンが適用されない場合は、`which claude`で実行パスを確認し、Homebrewなどnpm以外でインストールされた競合ファイルを削除することが重要です。

さらに、Claude Codeには`autoUpdates: false`の設定よりも優先される`DISABLE_AUTOUPDATER`という環境変数が存在します。これを`1`に設定することで、強制的な自動更新を完全に無効化できます。この設定は、毎回コマンドラインで指定する他、`~/.claude/settings.json`ファイルに`"env": { "DISABLE_AUTOUPDATER": "1" }`を追記することで永続化が可能です。これらの手順により、不安定な最新版への意図しない更新を防ぎ、安定した開発環境を維持できます。問題に直面しているウェブアプリケーションエンジニアにとって、この具体的な回避策は、AIコーディングツールを実用的に活用するための重要な知見となるでしょう。代替ツールとしてSuperClaudeなどが紹介されている点も、選択肢を広げる上で参考になります。