## Claude Code でカスタムサブエージェントを作成する

https://azukiazusa.dev/blog/create-custom-sub-agent-in-claude-code/

Claude Codeは、独立したコンテキストと専門性を持つカスタムサブエージェントの作成を可能にし、複雑な開発タスクの効率的な委任とコンテキスト汚染の防止を実現します。

**Content Type**: Tutorial & Guide

**Scores**: Signal:5/5 | Depth:4/5 | Unique:3/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 88/100 | **Annex Potential**: 82/100 | **Overall**: 84/100

**Topics**: [[Claude Code, AIエージェント, コンテキスト管理, マルチエージェントシステム, 開発ワークフロー]]

Claude Codeは、開発者が特定のタスクを効率的に処理するために、独立したコンテキストと専門性を持つカスタムサブエージェントを作成する強力な機能を提供します。これは、長時間の会話でAIが指示を見失う「コンテキスト汚染」の問題を解決する鍵となります。各サブエージェントは独自のシステムプロンプトとツールを持ち、メインセッションのコンテキストに影響を与えることなく、特定のドメイン（例：バックエンド開発、コードレビュー、デバッグ）に集中して作業を進められます。これにより、調査結果の要約だけをメインに返すといった、人間が行う分業のような効率的なワークフローが実現します。

さらに、サブエージェントは専門性を高め、タスクの成功率を向上させます。プロジェクトや個人単位で作成・共有が可能であり、再利用性にも優れています。また、各エージェントに必要な最小限のツールやMCPサーバー権限のみを与えることで、セキュリティを強化できる点も重要です。

作成は簡単で、Claude Codeで`/agents`コマンドを入力し、Claudeにプロンプトから自動生成させるか、手動で設定を選べます。作成されたサブエージェントはYAML形式のMarkdownファイルとして保存され、その`description`フィールドがエージェントの自動呼び出し条件を決定します。ただし、サブエージェントは毎回ゼロからコンテキストを構築するため、常にメインセッションより高速とは限らない点には注意が必要です。しかし、複雑なタスクのモジュール化と効率的な委任においては、開発ワークフローを大きく改善する可能性を秘めています。