## Gemini CLIは“シェル芸”の代替となるか？ログファイル加工処理で試してみた

https://qiita.com/take-yoda/items/9281e3e58739ebc1bed7

Gemini CLIがログファイル処理における「シェル芸」の代替となるかを検証し、プロンプトの工夫で精度は向上するものの、現状ではシェル芸の簡潔さには及ばないことを示した。

**Content Type**: ⚙️ Tools

**Scores**: Signal:4/5 | Depth:4/5 | Unique:3/5 | Practical:4/5 | Anti-Hype:5/5
**Main Journal**: 78/100 | **Annex Potential**: 76/100 | **Overall**: 80/100

**Topics**: [[Gemini CLI, シェル芸, ログ解析, プロンプトエンジニアリング, コマンドラインツール]]

本記事は、Gemini CLIが「シェル芸」と呼ばれるコマンドラインでの複雑なワンライナー処理を代替できるかを、実際のログファイル加工を通じて検証しています。筆者は、大規模なログファイル（`sample_log.log`）から特定のエラー行を抽出しCSV形式で出力するタスクを、従来のシェルコマンドとGemini CLIの両方で試みました。

最初の試みでは、Gemini CLIは非対話モードでファイルを出力せず、対話モードでも期待と異なる形式の出力を生成しました。特に、ワンライナーで済むような処理に対してもPythonスクリプトの実装を提案する傾向が強く、処理が冗長になる点が課題として浮き彫りになりました。

しかし、ログのフォーマットを詳細に記述し、「プログラミング言語の使用禁止」「シェルコマンドのみで出力」といった具体的な制約をプロンプトに加えることで、対話モードでの精度は飛躍的に向上し、最終的には目的の出力を得ることができました。残念ながら、非対話モードでは余計なダブルクォートが混入するなど、安定性に課題が残りました。

ウェブアプリケーションエンジニアにとって、この検証は生成AIコマンドラインツールの現状と限界を具体的に示しています。AIは自然言語による複雑な指示を理解し、自律的なコード修正まで試みるものの、従来のシェル芸のような精度の高いワンライナーの出力を得るには、かえって詳細かつ厳密なプロンプトエンジニアリングが必要となることが明らかになりました。これは、手慣れたエンジニアが直接シェルコマンドを記述するよりも手間がかかる場合があります。本記事は、定型的なデータ処理においては、現状では人間によるシェル芸の方が効率的かつ信頼性が高いという現実的な結論を提示しており、生成AIはプロセスの提案やスクリプト生成といったアシストとしての活用がより適切であると示唆しています。クリティカルなコマンドラインタスクにおいて、AIによる直接実行の安定性や精度にはまだ課題があり、エンジニアの「シェル芸」スキルが不要になる日はまだ遠いことを理解しておくべきでしょう。