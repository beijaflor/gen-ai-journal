## LLMによる「非定型見積書の明細抽出タスク」の精度を約80%→約95%に改善した話

https://tech.layerx.co.jp/entry/2026/01/14/125350

非定型見積書の抽出精度を向上させるため、画像情報の統合とReasoning Modelを用いた合計値検証ループを組み合わせる手法を提示する。

**Content Type**: Technical Reference
**Language**: ja

**Scores**: Signal:5/5 | Depth:4/5 | Unique:3/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 85/100 | **Annex Potential**: 81/100 | **Overall**: 84/100

**Topics**: [[LLM, OCR, マルチモーダル, 推論モデル, ワークフロー設計]]

LayerX社による、非定型かつ長大な見積書から明細データを構造化抽出するタスクの精度を劇的に改善した実践記録。従来は約80%にとどまっていた抽出精度を、アルゴリズムの工夫によって約95%まで引き上げた具体的なアプローチが解説されている。

著者は、精度を阻む主な要因として、罫線のないフォーマットによる項目のずれ、FAX等の低品質スキャンによる誤読、そして数百行に及ぶ明細での取り漏れを挙げている。これらを解決するために導入されたのが、以下の2つの技術的アプローチである。

1. **マルチモーダル情報の活用**: 従来のOCRテキストのみの入力から、見積書画像を併用する方式へ変更。これにより、LLMがテキストの並びだけでなく空間的なレイアウト（列の境界など）を直接理解できるようになり、項目と金額の対応関係の誤認が大幅に減少した。
2. **「合計値」を基点とした再推論ループ**: 文書冒頭の「合計金額」をまず抽出し、その後に抽出した全明細の合計値との整合性をルールベースでチェックする。差分が生じた場合にのみ、OpenAIのo3（Reasoning Model）を投入して「どの明細が漏れているか、または余分か」を推論させる。o3を全ての抽出に使用するのではなく、不整合が発生した際の「差分修正」に特化して利用することで、高い推論能力を活かしつつ、処理速度とコストの最適化を両立させている。

また、開発プロセスにおける知見として、正解データ（Ground Truth）の作成効率化についても言及されている。ゼロからデータを作成するのではなく、既存の「8割の精度のワークフロー」の出力を人間が修正するプロセスを構築することで、アノテーション工数を削減し、検証サイクルの高速化を実現した。

本記事は、単に高機能なモデルを使うだけでなく、ドキュメントの構造特性（合計値という検算基準の存在）をワークフローに組み込むことで、実運用に耐えうる信頼性を獲得できることを示している。非定型文書のデータ化に従事するエンジニアにとって、モデルの使い分けと検証ループ設計の極めて具体的なリファレンスとなるだろう。