## Building your own CLI Coding Agent with Pydantic-AI

https://martinfowler.com/articles/build-own-coding-agent.html

CLIコーディングエージェントを自社プロジェクト特有の文脈に合わせてPydantic-AIとModel Context Protocol (MCP) を用いて構築し、開発ワークフローを根本から変革する方法を解説します。

**Content Type**: ⚙️ Tools

**Scores**: Signal:4/5 | Depth:5/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 90/100 | **Annex Potential**: 87/100 | **Overall**: 88/100

**Topics**: [[CLIコーディングエージェント, Pydantic-AI, Model Context Protocol, 開発ワークフロー自動化, AIエージェントアーキテクチャ]]

この記事は、一般的な商用ツールでは対応できないプロジェクト固有のニーズに応えるため、Pydantic-AIとModel Context Protocol (MCP) を利用して独自のCLIコーディングエージェントを構築する具体的な方法とその変革的な価値を示します。ウェブアプリケーションエンジニアにとって、これは単なるコードアシスタントを超え、テスト実行、コード修正、ドキュメント検索、環境操作までを自律的にこなす「開発パートナー」を手に入れることを意味します。

記事では、まずテスト実行機能から始め、開発ガイドラインを指示として組み込むことでエージェントの行動を調整します。次に、MCPを活用し、サンドボックス化されたPython実行環境、最新のライブラリドキュメント検索 (Context7)、AWS固有のドキュメントやツール、インターネット検索、そして体系的な問題解決を可能にするコード推論といった高度な機能を追加していきます。極め付けは、ファイルシステム操作やターミナルコマンド実行、コードのピンポイント編集まで可能な「Desktop Commander」の導入で、エージェントはコードベース全体を理解し、デバッグから修正、検証までをエンドツーエンドで実行できるようになります。

このアプローチの重要性は、「なぜそれが問題なのか」に集約されます。市販のエージェントは汎用的過ぎて、私たちの複雑なプロジェクト固有の癖や文脈を理解できません。しかし、自作することで、デバッグの共同作業化、学習の加速、コンテキストスイッチの削減、構造化された問題解決、そしてコードレビューの改善といった、日々の開発ワークフローにおける具体的な課題を解決できます。これは、AIが単なる「書くアシスタント」から、私たちの目標、制約、コードベースを深く理解し、共同で問題を解決する「知的なパートナー」へと進化する未来を指し示しています。この未来を理解する最良の方法は、自ら構築することなのです。