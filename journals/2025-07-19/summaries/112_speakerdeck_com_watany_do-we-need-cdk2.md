## AIエージェントが書くのなら直接CloudFormationを書かせればいいじゃないですか何故AWS CDKを使う必要があるのさ

https://speakerdeck.com/watany/do-we-need-cdk2

AIエージェント時代においても、AWS CDKはテスト容易性、可読性、およびガードレール実装の観点から、CloudFormationを直接記述するよりも優位性を持つことを解説する。

[[AWS CDK, AIエージェント, CloudFormation, Infrastructure as Code (IaC), テスト駆動開発]]

本記事は、AIエージェントがインフラコードを生成する時代において、なぜAWS CDKが依然として重要であるかを論じている。AIエージェントが直接CloudFormationを記述できるにもかかわらず、CDKの利用が推奨される主な理由は、その優れたテスト容易性にある。特に、スナップショットテストやきめ細かなアサーションといったCDKの単体テスト機能は、AIが生成したコードの品質と信頼性を確保する上で不可欠である。また、CDKは生のCloudFormationのYAML/JSONと比較して可読性が高く、人間がAI生成コードをレビュー・承認する際の負担を軽減する。`.grant`や`.connections`のようなCDKの機能は、リソース間の関係を明確にし、コードの理解を深める。さらに、AIエージェントにCDKを書かせる際のヒントとして、AWS IAMの最小権限原則などのガードレール実装、Model Context Protocol (MCP) の活用、明確なルール定義、簡潔なプロンプト作成が挙げられている。将来的には、インフラを含む全ての開発情報がプレーンテキストのソースコードとして管理される「フルコード」への移行が示唆されており、CDKはその流れに適応しやすいツールである。

**編集者ノート**: AIエージェントがコードを書く時代になっても、インフラのコード化（IaC）においてAWS CDKの価値が再認識されるのは非常に興味深い。特に、AIが生成したインフラコードの「テスト容易性」が強調されている点は、ウェブアプリケーションエンジニアにとって見過ごせない。AIが完璧なコードを生成するわけではない以上、テストによる品質保証は必須であり、CDKが提供するテストフレームワークは、AI駆動開発における信頼性を担保する上で極めて重要になるだろう。また、可読性の高さは、AIと人間の協調作業において、人間のレビューコストを削減し、より複雑なアーキテクチャへの挑戦を可能にする。将来的には、AIが生成したCDKコードを人間がレビューし、テストで品質を担保するというワークフローが主流となり、CDKはAI時代のIaCのデファクトスタンダードとしての地位を確立するだろう。