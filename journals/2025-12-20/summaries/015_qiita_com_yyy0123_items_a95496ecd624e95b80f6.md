## 【Gemini】コード差分を「フローチャート」にしてロジック確認を爆速化する方法

https://qiita.com/yyy0123/items/a95496ecd624e95b80f6

Geminiを活用し、ソースコードの差分をHTML形式のフローチャートに変換することで、開発者やQAエンジニアが複雑なロジックを迅速かつ正確に確認する手法を提案する。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:4/5 | Depth:3/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 81/100 | **Annex Potential**: 80/100 | **Overall**: 80/100

**Topics**: [[Gemini, コードレビュー, フローチャート, QAエンジニアリング, プロンプトエンジニアリング]]

本記事は、QAエンジニアである筆者が、複雑なコード差分（特に条件分岐やループ処理を含むもの）のロジック確認における課題に対し、Geminiを活用した効果的な解決策を提示しています。コードを目視で追う際の認知リソースの限界と見落としのリスクを指摘し、フローチャートによる視覚化がロジック確認の効率と正確性を劇的に向上させると主張します。

この手法の核心は、「コードを読む」重労働をAIに委ね、人間は「ロジックの正しさ」という本質的な判断に集中できる点にあります。フローチャートは「怪しい箇所」を瞬時に可視化し、処理の全体像を直感的に把握させ、ループ後の変数整合性や例外処理といったバグの温床を早期に発見するのに役立ちます。これにより、レビュー時の心理的負担が大幅に軽減されると筆者は強調します。

具体的な実践方法はシンプルです。まず、Geminiに対してソースコード差分からHTML形式でフローチャートを作成するよう指示するプロンプトを用意します。特に、フローチャートのノード内に含まれる特殊記号（例: `"`、`&`、`>=`、`:`）による表示崩れを防ぐため、これらをダブルクォーテーションで囲むよう指示する「呪文」が重要であると強調されています。著者はMermaid記法ではなく、HTML形式での出力を意図的に選択しています。次に、このプロンプトの下に確認したいGitの差分を貼り付けてGeminiに送信。最後に、生成されたHTMLコードをUTF-8エンコーディングで`.html`ファイルとして保存し、ブラウザで開けば、複雑なコードが分かりやすいフローチャートとして表示されます。

さらに効率を追求するなら、Gemini Advancedの「Gem」（カスタム指示）機能を利用し、上記のプロンプトを登録しておくことで、以降は差分を貼り付けるだけで即座にフローチャートを生成できるようになります。本手法は、QAエンジニアはもちろん、自身のコードをセルフレビューする開発者にも心から推奨される実践的なアプローチであり、HTML生成時のsyntax errorもGeminiに修正させることが可能だと補足されています。