## Claude Codeで実現する仕様駆動開発(SDD)

https://zenn.dev/luup_developers/articles/server-jang-20251215

AIコーディングにおける計画の喪失という根本的な問題を解決するため、Claude Codeを用いたファイルベースの仕様駆動開発（SDD）を導入し、その効果と具体的な実装方法、および課題を詳細に解説します。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:4/5 | Depth:5/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:5/5
**Main Journal**: 92/100 | **Annex Potential**: 90/100 | **Overall**: 92/100

**Topics**: [[仕様駆動開発, AIコーディングワークフロー, Claude Code, コンテキスト管理, 開発効率化]]

本記事は、AIエージェントとの開発において、チャット履歴に計画が埋もれてしまう問題を解決するために、筆者（LuupのJang氏）が導入・活用している仕様駆動開発（Spec-Driven Development, SDD）について解説しています。

筆者は、AIコーディングの既存アプローチである「Vibe Coding」（計画なしに実装を始める）と「Plan Mode」（AIが計画を立ててから実装する）の限界を指摘します。Vibe Codingは方向性の喪失、終わりのないリファクタリング、隠れた要件の発見につながり、実装時間とバグ修正時間を大幅に増加させます。Plan Modeは初期計画を立てるものの、会話が長くなるとAIが計画を「忘れてしまう」という根本的な問題があり、特に「Auto-Compact」機能によって重要な決定の経緯や情報が不可逆的に失われることを強調しています。

これらの問題を解決するため、SDDは「1 Todo = 1 Commit = 1 Spec Update」を核心原則とし、計画をPRD（Product Requirement Document）ファイルとして永続的に保存し、小さな作業単位でコード、コミット、ドキュメント（PRDとCHANGELOG.md）を同時に更新する方法論を提唱しています。これにより、AIのメモリ揮発性やAuto-Compactによる情報損失を回避し、意思決定の根拠や変更履歴を完全に記録・追跡できるようになります。

SDDの実装にはClaude Codeが推奨されており、その理由として「Configuration as Code」が挙げられています。Claude Codeは、スラッシュコマンド、テンプレート、スキルといったすべての設定をMarkdownファイルで管理できるため、Gitによるバージョン管理、プロジェクトごとのカスタマイズ、設定の再利用が可能です。特に、プロジェクトルートに置かれたCLAUDE.mdファイルから開発ガイドラインを自動パースし、PRD生成やリアルタイム検証に活用する点が強力です。

Claude Codeのスキルシステム（spec-validatorやspec-tracker）は、コード作成中にリアルタイムで仕様との整合性を検証し、仕様とコードの乖離を早期に発見します。これにより、従来の事後的なコードレビューでは見過ごされがちな問題を未然に防ぎ、バグの削減に大きく貢献します。また、AIのトークン数制限に対応するため、必要なPRDのセクションのみを選択的にロードするスマートローディング戦略を採用し、大規模プロジェクトでも効率的なコンテキスト管理を実現します。

筆者の実測データによれば、SDDはVibe Codingと比較して開発時間を43%、バグ発生率を83%、コードレビュー時間を71%削減する効果がありました。ただし、SDDは万能ではなく、小さなバグ修正、探索的コーディング、緊急ホットフィックス、UIプロトタイプなど、仕様作成のオーバーヘッドが実際の作業時間を上回る場合は避けるべきであると明記しています。

記事は、SDDがまだ発展途上のプラクティスであり、ツール実装の複雑性、spec drift、hallucinationといった課題や業界からの懐疑的な視点が存在することも公平に認めています。しかし、1日以上のプロダクション機能開発においては、SDDがAIとのより生産的なコラボレーションを可能にし、AIを単なるコード生成器ではなく「真の開発パートナー」に変える有効なアプローチであると結論付けています。すべての計画、決定、理由がファイルとして永続化され、Gitで追跡可能となることで、「計画が何だったっけ？」と悩む時間が解消される点が最大のメリットと述べられています。