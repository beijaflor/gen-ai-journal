## AIコードレビューがチームの"文脈"を読めるようになるまで 〜 レビューの暗黙知を継承する育成コマンド 〜

https://www.m3tech.blog/entry/2025/09/06/110000

エムスリーは、AIコードレビューがチーム固有の文脈や暗黙知を理解できない課題に対し、過去の人間によるレビューからプロンプトを自動更新する「AIレビュアー育成コマンド」を開発し、運用を効率化しました。

**Content Type**: ⚙️ Tools

**Scores**: Signal:5/5 | Depth:4/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 100/100 | **Annex Potential**: 100/100 | **Overall**: 88/100

**Topics**: [[AIコードレビュー, プロンプトエンジニアリング, GitLab API, LLMエージェント, 開発効率化]]

エムスリーのUnit7チームは、AIコードレビューが一般的なバグや冗長性を指摘できる一方で、プロジェクトの設計思想や共通関数の利用、ディレクトリ構造ルールといった「チーム固有の文脈（暗黙知）」を汲み取れないという課題に直面していました。また、AIに与えるプロンプトの更新が滞りがちで、チームの最新の知見が反映されない問題も顕在化していました。

この課題を解決するため、チームはClaude Code上で動作する「AIレビュアー育成コマンド」を開発しました。このコマンドは、GitLab APIを通じて過去のマージリクエスト（MR）を取得し、人間のレビューコメントとその対象コードを抽出します。そして、AI自身にそのコメントから汎用的なレビュー観点を要約させ、Markdownファイルとして出力。最終的に、既存のAIコードレビュー用プロンプトに自動的に追記・更新することで、チームの知見を継続的にAIに学習させる仕組みを構築しました。

実装上の工夫として、メインエージェントのコンテキスト過負荷を避けるためにサブエージェントを活用しています。また、AIが「ありそうなレビュー観点」を創作するのを防ぐため、「実際についたコメントとコメントをつけたユーザ名も併記すること」という具体的なプロンプト指示が組み込まれました。このアプローチにより、AIはより実践的でチームに最適化されたレビューを提供できるようになり、エンジニアは本質的なロジックや設計といった、より思考を要するレビューに集中できます。将来的には、コマンドの自動実行によるプロンプト更新案のマージリクエスト自動作成を目指し、AIレビュアーのさらなる自律的な成長と開発体験の向上を目指しています。これは、AIを活用した開発プロセスを深く改善する上で非常に示唆に富む取り組みです。