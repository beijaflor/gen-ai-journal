## エージェントのツールを80%削減した理由：Vercelが辿り着いた「ファイルシステム・エージェント」の衝撃

https://vercel.com/blog/we-removed-80-percent-of-our-agents-tools

**Original Title**: We removed 80% of our agent’s tools

エージェント用の専用ツールを廃止し、bashコマンドによるファイル探索に集約することで、データ分析の精度向上と高速化を実現する手法を紹介する。

**Content Type**: ⚙️ Tools
**Language**: en

**Scores**: Signal:5/5 | Depth:4/5 | Unique:5/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 94/100 | **Annex Potential**: 93/100 | **Overall**: 92/100

**Topics**: [[AI Agents, Bash, Claude 4.5, Vercel Sandbox, Text-to-SQL]]

Vercelは、自然言語からSQLを生成する社内データ分析エージェント「d0」を大幅に刷新し、その劇的な成果を報告している。従来、同社はモデルのハルシネーションや複雑なスキーマへの対応を懸念し、スキーマ参照やクエリ検証、エラー復旧といった多数の専用ツールを開発し、緻密なプロンプトエンジニアリングと文脈管理を行っていた。しかし、このアプローチはモデルの推論を開発者が肩代わりしようとするものであり、結果としてシステムは脆弱で遅く、頻繁なメンテナンスを要する「重い」ものになっていた。

この課題を解決するため、Vercelは「モデルの推論を妨げない」という逆転の発想に立ち、ツールの8割を削除した。新しいアーキテクチャでは、エージェントに「任意のbashコマンドを実行する」という汎用的なツールを一つ与え、YAMLやMarkdownで記述された定義ファイル群（セマンティックレイヤー）が格納されたファイルシステムへの直接アクセスを許可した。これにより、エージェントはls、grep、cat、findといった50年以上前から存在する標準的なUnixツールを駆使し、人間のアナリストが調査を行うのと同じように定義ファイルを探索して自律的に推論を行うようになった。

この変更の結果、Claude 4.5を搭載した新しいエージェントは、従来の構成と比較して実行速度が3.5倍高速化し、トークン使用量を37%削減、さらにベンチマークでの成功率は以前の80%から100%へと向上した。著者が強調するのは「モデルの進化を信じ、重力に抗わない」ことの重要性だ。Claude 4.5のような高度なモデルは、開発者が用意した限定的な要約ツールよりも、生のドキュメントを直接読む方が正確に状況を把握できる。本記事は、エージェント構築において最も重要なのは「賢いツールを自作すること」ではなく、データやドキュメントを「モデルが解釈しやすい形で整理・構造化すること」であるという、今後のAIアプリケーション開発における本質的なパラダイムシフトを提示している。