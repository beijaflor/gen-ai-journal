## Claude Codeサブエージェントハンズオン

https://tech.iimon.co.jp/entry/2025/12/22

Claude Codeの「サブエージェント」機能を活用し、CLAUDE.mdでの指示定義を通じて複数の専門AIを連携させ、クリーンアーキテクチャに基づいたTODOアプリを自動生成する手法を検証する。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:4/5 | Depth:3/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 81/100 | **Annex Potential**: 80/100 | **Overall**: 80/100

**Topics**: [[Claude Code, サブエージェント, CLAUDE.md, エージェント・オーケストレーション, クリーンアーキテクチャ]]

Claude Codeの新機能である「サブエージェント」を活用し、複数の専門的なAIパーソナリティを連携させてアプリケーションを構築する実践的なハンズオンを紹介している。サブエージェントとは、特定の役割（DDD、React、TypeScript等）やツール、独立したコンテキストウィンドウを持つAIエージェントであり、メインエージェントからタスクを委託されて動作する仕組みである。

筆者は検証を通じ、単にサブエージェントを定義するだけではAIが自律的にそれらを活用しないという重要な挙動を指摘している。この課題を解決するため、プロジェクトのルールを定義する`CLAUDE.md`を活用し、メインエージェントに「オーケストレーター（指揮者）」としての役割を明示的に与える手法を提示した。具体的には、ユーザーの指示を適切なサブエージェントへ委託し、その結果を別のレビュー担当エージェントに検証させるというワークフローを定義することで、効果的な自律連携を実現している。

この手法を適用した結果、DDDやクリーンアーキテクチャの原則に忠実な高度なディレクトリ構造を持つTODOアプリが、約40分の実行時間で自動生成された。出力されたコードは、ドメインモデル、ユースケース、インフラストラクチャ層が明確に分離されており、実用的なレベルのアーキテクチャを維持している。一方で、40分のセッションで約19.33ドル（約3,000円）のAPIコストが発生したことも実測値として報告しており、開発効率とランニングコストのトレードオフについても現実的な知見を提供している。

著者は、AIコーディングツールの進化が著しい中で、個別の実装をAIに任せるだけでなく、どのような単位でエージェントを分割し、いかにしてそれらを指揮・統制するかという「オーケストレーションの設計」がエンジニアにとって不可欠なスキルになると結論付けている。本記事は、Claude Codeのポテンシャルを最大限に引き出すための、具体的かつ再現性の高いワークフローのプロトタイプを提示している。