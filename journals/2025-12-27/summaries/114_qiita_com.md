## Kiro CLIに構成図作成から見積書作成までお願いしてみた！

https://qiita.com/ym-kb/items/4201021ee1933f65f995

AWS環境専用のAIエージェント「Kiro CLI」を活用し、システム要件の定義から構成図の自動生成、コスト試算、さらにはエクセル形式の見積書作成までの一連のプリセールス・設計業務を自動化する実戦的なワークフローを検証している。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:4/5 | Depth:3/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 78/100 | **Annex Potential**: 72/100 | **Overall**: 80/100

**Topics**: [[AWS, Kiro CLI, AIエージェント, インフラ構成図自動化, コスト試算]]

AWSの設計・見積もり業務という、エンジニアにとって不可欠ながらも手作業の多いプロセスを、AIエージェント「Kiro CLI（旧Amazon Q Developer CLI）」でどこまで自動化できるかを詳細に解説した記事である。著者はAWS初心者という立場から、対話型インターフェースを通じて高度なインフラ設計とドキュメント作成を完遂させており、AIエージェントが「単なるコード補完」を超えて「業務プロセスの代行者」として機能する可能性を具体的に示している。

核となる手法は、Kiro CLIに直接成果物を作らせるのではなく、成果物を生成するための「Pythonスクリプト」を書かせる点にある。具体的には、インフラ構成図の作成には `diagrams` ライブラリを、エクセル形式の見積書作成には `openpyxl` を使用するよう指示し、Kiro CLIが生成したコードを実行することで、S3バケットにPNG/PDFの図解や詳細な集計表を出力させている。これにより、AIが直接描画できないという制約を回避し、実務でそのまま利用可能な形式での出力を実現している。

記事の中で特筆すべきは、以下の4段階のワークフローである。
1. **要件定義と構成案の策定**: 抽象的な機能・非機能要件から、AWSのベストプラクティス（Well-Architected）に基づいたVPC、ECS Fargate、RDS Multi-AZなどの具体的なアーキテクチャを導き出す。
2. **構成図の自動生成**: 生成された構成を元に、マルチAZ環境を視覚化した構成図をプログラム経由で作成。配置の微調整もプロンプトによる修正指示で完結させている。
3. **動的なコスト試算**: 特定リージョン（us-east-1等）での1ヶ月稼働コストを算出。HTTPSリクエスト数などの可変要素を含めた詳細な内訳をエクセル形式で生成する。
4. **最適化案の比較**: リージョン間の価格比較や、性能を犠牲にしたコスト削減案（Serverless化など）の提示を行い、それぞれのメリット・デメリットを整理させている。

筆者は、Kiro CLIの出力は非常に強力であるものの、最終的な判断には人間の介在が必要であると指摘している。また、期待通りのアウトプットを得るためには、Kiro CLIができること・できないことを理解した上での「プロンプトの組み立て」が重要であると主張している。

Webアプリケーションエンジニアにとって、インフラの初期設計や見積もりは工数がかかりがちな工程だが、本記事で紹介されている「AIにツール（ライブラリ）を操作させる」アプローチは、ドキュメンテーションの工数を劇的に削減し、より本質的なアーキテクチャ検討に集中するための強力な武器となるだろう。