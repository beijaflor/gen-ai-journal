## Claude Codeのコンテキストウィンドウを完全に理解する

https://gihyo.jp/article/2025/12/get-started-claude-code-05

Claude Codeの20万トークンに及ぶコンテキストウィンドウの内部構造を解明し、開発効率を最大化するためのトークン管理戦略を提示する。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:5/5 | Depth:4/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 89/100 | **Annex Potential**: 86/100 | **Overall**: 88/100

**Topics**: [[Claude Code, コンテキストウィンドウ, トークン最適化, Agent Skills, CLAUDE.md]]

Anthropicが提供するCLIツール「Claude Code」において、20万トークンのコンテキストウィンドウをいかに管理し、エンジニアリングに活用するかを深掘りした解説記事である。著者は、AIエージェントによる開発の成否はコンテキストウィンドウの制御にあると主張し、内部で何がトークンを消費しているのかを具体的に分析している。

特筆すべきは、コンテキストウィンドウの約30%がシステム側（システムプロンプト、基本ツール、および自動圧縮用のバッファ）によって既に使用されているという事実の指摘だ。ユーザーが `/context` コマンドで視覚的に確認できる占有率の内訳を解説し、特に「Auto Compact（自動圧縮）」の実態が会話履歴の要約であることを明かしている。

開発者が制御可能な領域については、コンテキストに常駐するものとそうでないものを明確に分類している。「CLAUDE.md」や「MCPサーバー」は常駐するため、肥大化がパフォーマンス低下に直結する一方で、「Hooks」や最新機能の「Agent Skills」は極めてトークン効率が高い。特にAgent Skillsは、スキルの名前と説明（100トークン以下）のみを常駐させ、必要時のみ詳細手順を読み込む設計になっており、複雑な指示をトークンを浪費せずに実行できる手法として推奨されている。

また、IDE連携機能（`/ide`）が、開いているファイルの内容やカーソル位置を自動送信するため、予期せぬトークン消費や秘匿情報の漏洩を招くリスクがあることにも警鐘を鳴らしている。著者は、開発者がコンテキストを「有限のリソース」として認識し、確定的な処理にはスラッシュコマンド、柔軟な手順にはAgent Skillsといった具合に、機能ごとのトークン占有特性に応じた使い分けを行うことが、次世代のAI駆動開発における必須スキルになると結論付けている。具体的な数値を交えた分析は、Claude Codeを実務に導入するエンジニアにとって、ワークフローの最適化に直結する極めて実践的なガイドとなっている。