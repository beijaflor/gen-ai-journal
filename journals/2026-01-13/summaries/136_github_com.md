## Claude Code向けのカスタムスキル実装例：git worktreeを活用した開発フローの自動化

https://github.com/shikajiro/claude-code-skill-example

利用し、Claude Codeのプランニング終了後のgit worktree作成から実装後のPR作成・環境削除までを自動化するワークフローの実装例を提案する。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:5/5 | Depth:3/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 60/100 | **Annex Potential**: 56/100 | **Overall**: 84/100

**Topics**: [[Claude Code, git worktree, カスタムスキル, 開発自動化, AIエージェント]]

本リポジトリは、AnthropicのCLIツール「Claude Code」をより実戦的な開発ワークフローに適合させるための「カスタムスキル」の実装例を公開している。筆者は、AIエージェントによる自動実装プロセスにおいて、現在の作業環境を汚さずに並行して開発を進めるための手段として、`git worktree`の活用を提案している。

提案されているワークフローの核となるのは、`create-worktree`と`pr-and-cleanup`という2つのカスタムスキルである。通常、AIによるコード生成は現在のブランチに対して直接行われるが、筆者の手法ではClaude Codeが「プランモード」で設計を終えた直後、実装に着手する前に自動的に新しいworktreeを切り出す。これにより、開発者はメインの作業ブランチを維持したまま、AIによる変更を独立したディレクトリで安全に管理・検証することが可能になる。実装が完了すれば、もう一つのスキルによって自動的にプルリクエストが作成され、不要になったworktreeがクリーンアップされる仕組みだ。

筆者がこのツールを公開した背景には、AIとの協調作業における「環境の分離」と「手作業の削減」という実務上の課題がある。特に注目すべきは、これらのスキル自体をClaude Code自身に「Planモードが終わって実装が始まる前にworktreeを作るskillを作って」と指示することで生成させている点だ。AIに自らの拡張機能を作らせ、それを自身の好みに微調整して仕上げるという、プロンプト・エンジニアリングから一歩進んだ「ツール・オーケストレーション」の実践的なアプローチとなっている。

この設定ファイルを`~/.claude/`ディレクトリに配置することで、グローバルな開発ユーティリティとして全プロジェクトに透過的に適用できる点は、複数のリポジトリを渡り歩くウェブアプリケーションエンジニアにとって非常に実用的である。AIエージェントが単にコードを書く存在から、開発者の「段取り」や「コンテキスト管理」を代行するパートナーへと進化する具体像を提示している。