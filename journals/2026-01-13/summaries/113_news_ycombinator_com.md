## クロード・コード、拒否設定後も「改善への協力」を執拗に要求する問題

https://news.ycombinator.com/item?id=46545056

**Original Title**: Claude keeps nagging about "Help improve Claude" inspite of previous decline

共有する：拒否設定を無視してフィードバックを執拗に要求するCLIツール「Claude Code」に対し、環境変数や設定ファイルを用いた挙動制御とプライバシー保護の具体策をコミュニティが共有している。

**Content Type**: ⚙️ Tools
**Language**: en

**Scores**: Signal:4/5 | Depth:3/5 | Unique:3/5 | Practical:4/5 | Anti-Hype:4/5
**Main Journal**: 71/100 | **Annex Potential**: 70/100 | **Overall**: 72/100

**Topics**: [[Claude Code, CLIツール, テレメトリ, 開発者体験, Anthropic]]

本記事は、Anthropicがリリースしたエンジニア向けCLIエージェント「Claude Code」において、ユーザーがフィードバック送信のプロンプトを繰り返し拒否しているにもかかわらず、ツールが執拗に（ナギング）調査への協力を求めてくる問題に関するHacker Newsの議論をまとめたものである。多くのエンジニアが開発フローを中断させるこの挙動に不満を抱いており、これに対しコミュニティは、公式ドキュメントの奥深くに記載されている設定や環境変数を用いた「ツールを沈黙させる」ための具体的な技術的解決策を提示している。

議論の中心は、開発者が日常的に使用するツールにおける「静かなUX」の重要性と、ツールによるデータ収集に対する警戒感にある。投稿者は、複数のデバイスで拒否設定を行っているにもかかわらず、プロンプトが表示され続ける現状を「嫌悪感を覚える」と厳しく批判した。これに対し、他のエンジニアたちは、`~/.claude/settings.json` ファイルやシェルの環境変数（`.zshrc`等）に特定の設定を加えることで、この挙動を強制的に停止できることを共有した。具体的には、フィードバック調査を無効化する `CLAUDE_CODE_DISABLE_FEEDBACK_SURVEY=1`、非必須のトラフィックを遮断する `CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC=1`、さらには自動アップデートを停止する `DISABLE_AUTOUPDATER=1` や、デモ・配信時にアカウント情報を隠す `IS_DEMO=1` といった実用的な設定項目が挙げられている。

著者の主張やコミュニティの反応から読み取れる重要な点は、AIツールの利便性と引き換えに、開発者が自身のワークスペースの制御権やプライバシーをいかに重視しているかという点だ。スレッド内では、テレメトリが無効化されているはずの状態でも、特定のメッセージIDが送信され続けている可能性など、コンプライアンス上の懸念も指摘された。これに対し、AnthropicのClaude CodeチームのメンバーであるDickson氏が直接スレッドに現れ、拒否状態が正しく保持されないバグの存在を認めて調査を開始したことは、開発者コミュニティからのフィードバックがいかに強力な影響力を持つかを示している。ウェブアプリケーションエンジニアにとって、急速に普及するAIツールを自身のワークフローに組み込む際、設定の裏側でどのようなデータ通信が行われているかを理解し、必要に応じて制御するスキルがいかに重要であるかを再認識させる事例となっている。