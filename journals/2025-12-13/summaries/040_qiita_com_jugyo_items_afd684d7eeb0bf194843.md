## 2025年12月版: MCP、Subagent、Skills… エージェント拡張技術が次々出てきて追いきれない人のためのガイド

https://qiita.com/jugyo/items/afd684d7eeb0bf194843

Anthropicが提唱するAIエージェント拡張技術（MCP、Subagent、Skillsなど）の進化を、各技術が解決しようとした課題の観点から時系列で解説します。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:5/5 | Depth:4/5 | Unique:4/5 | Practical:4/5 | Anti-Hype:5/5
**Main Journal**: 86/100 | **Annex Potential**: 86/100 | **Overall**: 88/100

**Topics**: [[AI Agent, LLM, コンテキストエンジニアリング, ツール利用, Anthropic]]

この記事は、Anthropicの公式ブログを基に、AIエージェントの拡張技術がどのような課題を解決するために登場したのかを時系列で整理したガイドです。エージェント技術が急速に進化する中で、各技術の背景を理解することで全体像を把握することを目的としています。

まず、2024年11月に**MCP (Model Context Protocol)**が発表されました。これは、LLMと社内データベース、SaaS、開発ツールなどの外部システムとのカスタム統合が乱立し、メンテナンスとスケールが困難になる問題を解決するために、「AIアシスタントと外部システムをつなぐオープン標準」として提案されました。AI側をMCPクライアント、外部システム側をMCPサーバとすることで、接続の共通プロトコルを確立しました。

MCPにより外部システムと接続できるようになると、今度は1体のエージェントが全てをこなすことによるプロンプトやコンテキストの肥大化、設計・デバッグの複雑化が問題となりました。これに対し、2024年末〜2025年前半にかけて**Subagent**と呼ばれるマルチエージェント構成が解決策として登場します。リーダーエージェントが全体方針とタスク分割を行い、複数のサブエージェントがそれぞれ独自の観点やツールでリサーチを進め、要約のみをリーダーに返すことで、コンテキスト負荷と設計の複雑性を分散します。

2025年9月には、コンテキストウィンドウの圧迫が本格化し、プロンプトだけでなく過去の会話履歴、MCPツール定義、実行結果、Subagentからのレポートなどが積み重なる問題が生じました。そこでAnthropicは「何をコンテキストに入れるか／残すか／外に出すか」を扱う**コンテキストエンジニアリング**の概念を提唱。要約（コンパクション）や構造化された外部ノート（メモリ）、Subagentによる窓口分割といった手法が示されました。

さらに、業務固有の手続き的知識が大量に必要となる一方で、それを全てシステムプロンプトに書き込むことの扱いにくさ、更新の難しさが問題となります。この課題に対応するため、2025年10月には**Agent Skills**が登場しました。Skillは、説明・手順を含むSKILL.mdと追加ファイルで構成される「知識パッケージ」であり、エージェントは必要に応じて段階的に知識を読み込むことで、コンテキストの節約とノウハウの活用を両立させます。

2025年11月4日には、ツール定義だけで数万トークンに達するケースや、ツール呼び出しによる中間結果の蓄積がコンテキストを埋め尽くす問題に対し、**Code execution with MCP**が発表されました。これはMCPプロトコル自体は変えず、エージェントがMCPツールをPythonコードから呼び出せるAPIとして扱うことで効率化を図ります。必要なツールファイルだけを読み込んでコードを生成し、データ加工をコード側で完結させることで、全てのツール定義をコンテキストに展開する手間や中間結果の肥大化を防ぎます。

そして、その約3週間後の2025年11月24日には、ツール定義や中間結果によるコンテキスト肥大化問題へのより体系的なアプローチとして**Advanced tool use**が発表されました。これは、必要なツール定義だけを検索してロードする「Tool Search」、モデルがPythonコードを書いて複数のツールを呼び出し処理する「Programmatic tool calling」、スキーマだけでは伝わりにくいツールの正しい使い方を具体例と共に提供する「Tool use examples」の3つの主要なポイントから構成され、ツールの効率的な利用を推進します。

これらの技術は、MCPが外部接続の可能性を開いた後、エージェントがコンテキストの重みで身動きが取れなくなるという新たな課題に対して、コンテキスト管理の解決策として次々と生み出されてきました。著者は、それぞれの技術が「どんな問題を解決しようとしているのか」という視点で理解することが、キャッチアップの鍵であるとまとめています。