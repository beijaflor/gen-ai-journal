## 【アドベントカレンダー2025】「AIと爆速で0→1を作る」 豆苗アーキテクチャ

https://developers.gnavi.co.jp/entry/adventcalendar-251210-1/

AI Coding Agentの最大限の活用を目指し、伝統的な共通化の美学や直列実装からの脱却を図り、「Locality First」の原則に基づいた「豆苗アーキテクチャ」を通じて0→1開発の高速化を実現する思考実験を提示する。

**Content Type**: Opinion & Commentary
**Language**: ja

**Scores**: Signal:4/5 | Depth:5/5 | Unique:5/5 | Practical:4/5 | Anti-Hype:4/5
**Main Journal**: 90/100 | **Annex Potential**: 90/100 | **Overall**: 88/100

**Topics**: [[AI Coding Agent, ソフトウェアアーキテクチャ, Vertical Slice Architecture, Feature Sliced Design, Locality First]]

本記事は、AI Coding Agentの目覚ましい進化を受け、従来のソフトウェアアーキテクチャの常識を再考する「思考実験」を提示します。AIが圧倒的な量とスピードでコードを生成する時代において、著者は「人間が書き、人間が直す」という前提が崩壊した後のアーキテクチャのあり方を問いかけます。

中心となる提案は「豆苗アーキテクチャ（Bean Sprout Architecture）」です。これは、伝統的に重視されてきた「共通化（DRY原則）」や「直列実装」といった美学を一旦手放し、「Locality First（局所性優先）」の原則に基づいて、0→1開発を爆速で進めるためのアプローチです。従来のアーキテクチャが「ドーナツ（同心円）」のように層をなすのに対し、豆苗アーキテクチャは個々の「苗（作業単位）」が独立して垂直に伸びるイメージです。この垂直分割により、複数のAIエージェントが互いに干渉することなく並列でコード生成を行うことが可能になります。

具体的な実装戦略として、バックエンドではVertical Slice Architecture (VSA) をさらに推し進め、各APIエンドポイントやユースケースを「作業単位」としてディレクトリ分割します。それぞれのディレクトリは完全に独立し、DTOやロジックの重複を積極的に許容します。これにより、AIは「このディレクトリだけを見れば完結する」状態で、迷わず迅速に実装できます。複雑な業務ロジックも、そのタスクに必要なすべてをディレクトリ内に集約します。フロントエンドではFeature Sliced Design (FSD) の思想を取り入れ、UIコンポーネント、状態管理、API通信ロジックなどを「作業単位」のディレクトリ内に凝集させます。ボタンのような基本的なUIであっても、早期の共通化を避け、まずは各機能内で完結させることを推奨します。デザインシステムやグローバル状態管理は共通化するものの、特定の振る舞いを持つSmart Componentsは局所的に扱います。

AIエージェントの活用を最大化するために、以下の工夫が提案されています。まず、カスタムコンテキストファイル（Instructions）を整備し、プロジェクト固有のコーディングルールやテンプレートをAIに指示することで、一貫した品質を担保します。次に、モデリングにおいては、データベーススキーマは共通基盤として定義する一方、各機能のモデル定義（例: model.go）は物理的に重複させ、AI間のコンフリクトを回避します。最後に、バックエンドの実装からOpenAPI定義を生成し、フロントエンドとの整合性を自動化する契約の仕組みを導入します。

著者は、この「豆苗アーキテクチャ」が0→1フェーズに特化した「劇薬」であるとし、プロダクトが1→10（安定・拡大期）へ移行する際には、段階的なリファクタリングや共通化が必要であると述べます。その際も、単なるコード量の削減ではなく、「システム基盤としての統一（インフラ化）」を目的とし、「意図しない副作用を生むか否か」を判断基準とすべきと指摘します。AIの生成能力があれば、大規模なリファクタリングも以前ほど恐れる必要はないと示唆し、ストラングラーパターンの応用を推奨しています。

この思考実験は、ソフトウェアアーキテクチャの軸足が「人間にとっての読みやすさ」から「AIにとっての扱いやすさ」へと移行しつつある可能性を示唆しており、既存の常識に囚われず、AIとの新たな開発パートナーシップを探求するきっかけとなるでしょう。