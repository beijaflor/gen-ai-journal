## PRごとのテスト生成を支援するJust in Time Testという仕組み

https://developers.freee.co.jp/entry/jittest_intro

freeeは、Metaの研究に基づくLLM活用型テスト生成システム「Just in Time Test (JiT Test)」をCIパイプラインに試験導入し、その具体的な仕組みと初期的な導入効果を解説します。

**Content Type**: ⚙️ Tools

**Scores**: Signal:5/5 | Depth:4/5 | Unique:4/5 | Practical:4/5 | Anti-Hype:5/5
**Main Journal**: 86/100 | **Annex Potential**: 86/100 | **Overall**: 88/100

**Topics**: [[LLMによるテスト自動生成, CI/CDパイプライン改善, ソフトウェアテスト戦略, QAエンジニアリング, 開発ワークフロー効率化]]

freeeは、GitHubのプルリクエスト(PR)作成時にLLMを活用してテストを自動生成する「Just in Time Test (JiT Test)」をCIパイプラインに試験導入しました。これはMetaが提唱する「Assured LLM-Based Software Testing」研究に基づき、将来のリグレッションを防ぐ「hardening test」と、新規不具合を捕捉する「catching test」の概念をPRごとに実行するものです。

このシステムの重要な点は、GooseとGitHub Actionsを組み合わせ、freeeが蓄積してきたソフトウェアアーキテクチャに基づくテスト設計ガイドラインを「Goose Recipe」としてLLMに与えていることです。これにより、抽象的な指示ではなく、プロダクトの特性に合わせた実現可能性の高いテスト提案が可能になります。PRの作成時や特定のコメントで自動起動し、具体的なテスト項目を提案することで、QAエンジニアの作業負荷軽減とテスト品質の向上を目指しています。

導入初期ながら、実現可能なテスト提案により、実際のテスト実装改善に繋がるという良い効果が出ています。一方で、flakyなテストの提案や、レビューの妨げとなる長文出力といった改善点も洗い出されました。これは、LLMに与える情報の質や出力形式の最適化が、実運用における重要な課題であることを示唆しています。

将来的には、PRD（Product Requirements Document）やDD（Design Document）との連携によるテストサジェストの精度向上、さらにミューテーションテストを活用した高精度なテスト生成や、ドキュメントから期待動作を抽出する「Oracle scavenging」といった先進的な研究アイデアの実践も視野に入れています。

この取り組みは、LLMが単なるコード生成ツールに留まらず、品質保証という複雑な領域において、いかに具体的かつ実用的な価値を提供できるかを示す好例です。開発チームにとって、PRレビューにおけるテスト設計の抜け漏れを防ぎ、バグの本番環境への混入リスクを低減する有効な手段となり得るでしょう。特に、LLMを社内ガイドラインと連携させることで、AIの提案をより「現場向け」にカスタマイズするアプローチは、今後のAI活用における重要なヒントを提供します。