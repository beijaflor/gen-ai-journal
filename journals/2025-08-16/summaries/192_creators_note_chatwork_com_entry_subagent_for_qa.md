## Claude Codeに「QA専門エージェント」を組ませたらテスト内容が劇的に変わったお話

https://creators-note.chatwork.com/entry/subagent_for_qa

Chatworkのエンジニアは、Claude Codeのサブエージェント機能を用いて実装AIとQA専門エージェントを分離することで、AIによるテスト設計の網羅性と品質を劇的に向上させた。

**Content Type**: ⚙️ Tools

**Scores**: Signal:4/5 | Depth:4/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:5/5
**Main Journal**: 88/100 | **Annex Potential**: 87/100 | **Overall**: 88/100

**Topics**: [[AIエージェント, テスト駆動開発, ソフトウェア品質保証, Gherkin, Claude Code]]

Chatworkのエンジニアリングチームは、開発プロセスにClaude Codeを導入し生産性を高める中で、「テスト設計者と実装者が単一のAI人格である」という課題に直面しました。これは、AIが自身の実装を前提にテストを設計するため、正常系に偏り、確認バイアスや多角的なテスト観点（セキュリティ、ユーザー体験、エッジケースなど）の不足を引き起こす危険性がありました。

この課題に対し、チームはClaude Codeのサブエージェント機能を活用し、解決策を試みました。具体的には、「実装AI」とは別に「経験豊富なQAエンジニア」として振る舞う「QAエージェント」を導入。これにより、QAエージェントが網羅的で多角的な観点からGherkinテストシナリオを作成し、実装AIがそのシナリオをパスすることを目指して実装する、という役割分担とテストファースト開発を実現しました。

この分業体制の導入は、テストシナリオの質に劇的な変化をもたらしました。単一AIでは不足していたセキュリティ（試行回数制限、アカウントロック）、ユーザビリティ（入力フィールド操作性、ガイダンス）、パフォーマンス（レスポンス時間）、アクセシビリティ（aria-label、alt属性）といった専門的な観点が網羅され、@smoke, @critical, @regressionなどの体系的なタグ付けも行われました。

このアプローチは、単なる開発効率の向上に留まらず、「何を達成すべきか」と「どう実現するか」の役割を分離することで、開発プロセスの健全化と品質向上に貢献します。複数のAI人格をチームメンバーとして機能させることで、単一AIの視点の偏りというリスクを低減し、より堅牢なプロダクト開発を実現する可能性を示しています。
