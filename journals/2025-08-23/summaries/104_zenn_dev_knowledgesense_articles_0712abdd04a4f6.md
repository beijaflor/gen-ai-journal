## RAGでLLMの内部パラメータを活用する方法

https://zenn.dev/knowledgesense/articles/0712abdd04a4f6

LoDITが、LLMのトークン出力確率を利用してRAGにおける情報源のリアルタイムかつ高精度な判定を可能にする新しい手法を提案します。

**Content Type**: Research & Analysis

**Scores**: Signal:5/5 | Depth:4/5 | Unique:5/5 | Practical:5/5 | Anti-Hype:5/5
**Main Journal**: 94/100 | **Annex Potential**: 95/100 | **Overall**: 96/100

**Topics**: [[RAG, LLM, 出典判定, トークン出力確率, ハルシネーション検出]]

株式会社ナレッジセンスの須藤氏が、RAGにおけるLLMの出典判定精度を高める革新的な手法「LoDIT」を紹介しました。従来のRAGシステムでは、LLMが出力したテキストの出典を特定する際、生成が完了した後に参照元との対応を後付けで探すため、精度に課題がありました。これは、LLMが生成途中に内部で参照している情報を活用できていなかったためです。

LoDITは、この課題に対し、LLMの「トークン出力確率」という内部パラメータをリアルタイムで利用することで解決策を提示します。LLMは次に生成するトークンを予測する際に、各候補トークンに確率を割り振ります。LoDITは、各情報源に固有のダミートークンを割り当て、LLMがテキストを生成する過程で、それらのダミートークンの出力確率を監視します。例えば、「情報源A」に割り当てられたトークンの出力確率が他の情報源のものよりも高ければ、LLMはその文章の生成において情報源Aを強く参照していると判断できるのです。

この手法の最大の利点は、LLMの「潜在意識」とも言える出力途中の情報を活用することで、既存の手法と比較して最大1割程度高い精度で参照元を特定できる点です。Webアプリケーションエンジニアにとって、これはLLMの出力に対する信頼性を飛躍的に向上させることを意味します。特にRAGシステムにおいて、ユーザーに提示する情報の透明性と正確性を保証することは極めて重要です。LoDITは、ハルシネーション（AIの嘘）対策や、LLMが参照した根拠を明確に示すことで、より堅牢で信頼性の高いAIアプリケーションを構築するための強力な基盤を提供します。高精度な出典判定は、AIシステムの信頼性を高め、実用的な価値を大きく向上させるでしょう。