## GPT-5.1 プロンプトガイド

https://cookbook.openai.com/examples/gpt-5/gpt-5-1_prompting_guide

**Original Title**: GPT-5.1 Prompting Guide

OpenAIは、最新モデルGPT-5.1の性能を最大限に引き出し、エージェントおよびコーディングタスクでの信頼性とユーザーエクスペリエンスを向上させるための、高度なプロンプトエンジニアリング戦略と新機能の活用法を公開しました。

**Content Type**: Tutorial & Guide
**Language**: en

**Scores**: Signal:5/5 | Depth:4/5 | Unique:3/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 88/100 | **Annex Potential**: 82/100 | **Overall**: 84/100

**Topics**: [[GPT-5.1, Prompt Engineering, Agentic AI, コーディングツール, メタプロンプト]]

OpenAIが公開したGPT-5.1プロンプトガイドは、この新しいフラッグシップモデルが持つ「インテリジェンスと速度のバランス」を最大限に引き出し、特にエージェントやコーディングタスクにおける信頼性とユーザーエクスペリエンスを向上させるための実践的なプロンプト技術を詳細に解説しています。

本ガイドによれば、GPT-5.1はGPT-5の強みを基盤としつつ、プロンプトの難易度に応じてトークン消費を最適化し、パーソナリティ、トーン、出力フォーマットの制御性を高めています。特に注目すべきは、推論を伴わない低遅延なインタラクションに特化した新しい`none`推論モードの導入です。

GPT-4.1またはGPT-5からの移行に際しては、出力の完全性を確保するための「永続性」の強調、不要な冗長性を避けるための「出力フォーマットと詳細度」の明示的な指示、およびコーディングエージェントにおける`apply_patch`ツールの移行が重要であると述べられています。

エージェントの操縦性に関して、著者はGPT-5.1がエージェントの振る舞い、パーソナリティ、コミュニケーション頻度を強力に制御できる点を強調しています。顧客対応エージェントの例では、明確なペルソナ設定が感情的知性を表現し、適切な「簡潔さと温かさ」のバランスを実現するために不可欠だと説明しています。また、コーディングエージェントでは、変更の規模に応じた出力の簡潔性を確保し、コードブロックの長さ制限を設けることで、冗長性を抑える具体的なプロンプト例が示されています。

モデルの知能と命令遵守を最適化するため、長時間のタスクでモデルが途中で終了しないよう「完全な解決策を追求する永続性」を促すこと、ツール定義とプロンプトで「ツール使用方法を明確に記述する」こと、そして「並列ツール呼び出し」を奨励することが推奨されています。新しく導入された`none`推論モードでは、推論トークンを使用しないため、Web検索やファイル検索などのホスト型ツールやカスタム関数呼び出しのパフォーマンスが大幅に向上すると筆者は指摘しています。

コーディング性能の最大化には、長期にわたるタスクで進捗管理を助ける「プランニングツール」の導入と維持が重要であり、これによりモデルの現在の状態とタスクの実行状況を把握しやすくなります。さらに、フロントエンド開発においては、Tailwind CSSを用いたデザインシステムを強制することで、視覚的な一貫性を保ったウェブサイトを生成できると説明されています。

GPT-5.1では、コーディングに特化した新たなツールタイプとして「`apply_patch`」と「`shell`」が導入されました。`apply_patch`ツールは構造化されたdiffを用いてファイルの作成・更新・削除を可能にし、`shell`ツールはモデルがシステムコマンドを提案・実行し、その出力を受け取ることで、システム検査やデータ収集を支援します。これらはResponses APIを介して利用可能であり、`apply_patch`は関数呼び出しの失敗率を35%削減したと報告されています。

最後に、プロンプトデバッグを効率化するための「メタプロンプト」戦略が提示されています。これは、GPT-5.1に自身のシステムプロンプトと失敗ログを分析させ、矛盾する指示や望ましくない挙動の根本原因を特定させ、修正パッチを提案させるという画期的なアプローチです。この反復プロセスにより、エージェントの挙動を意図した通りに調整し、プロンプトの品質を向上させることが可能となります。