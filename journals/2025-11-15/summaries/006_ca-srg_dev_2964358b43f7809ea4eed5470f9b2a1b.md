## MCPサーバー不要！ databasemixでMySQLテーブル情報を1ファイル化してAI簡単連携

https://ca-srg.dev/2964358b43f7809ea4eed5470f9b2a1b

`databasemix`を活用することで、MCPサーバー不要でMySQLのテーブル情報を1ファイルに集約し、AIによる参照を容易にする仕組みを構築する。

**Content Type**: ⚙️ Tools
**Language**: ja

**Scores**: Signal:4/5 | Depth:4/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:5/5
**Main Journal**: 88/100 | **Annex Potential**: 87/100 | **Overall**: 88/100

**Topics**: [[MySQL, AIコーディング支援, データベーススキーマ管理, 開発ワークフロー改善, OSS活用]]

この記事では、AIを活用したコーディング支援において、MySQLのテーブル情報を効率的かつセキュアにAIに連携させるための`databasemix`ツールを用いた独自のアプローチを紹介しています。従来のデータベース情報をAIに提供する方法には、手動でのコピー＆ペーストによる情報の鮮度や入力の手間、あるいはMCPサーバー経由での直接DBアクセスに伴うセキュリティ懸念やサーバー準備の手間といった課題がありました。

これらの課題を解決するため、筆者は@tom__bo氏が開発したOSSである`databasemix`の利用を提案しています。`databasemix`は、MySQLのユーザー情報、ロール情報、テーブル構成、MySQLサーバーの変数といった各種情報を選択的に抽出し、1つのファイルにまとめて出力できるツールです。

具体的なシステム構成として、EC2サーバー上で`databasemix`を実行し、その出力結果であるMySQLのテーブル構成情報（セキュリティのためユーザーやロール情報は含めない）をGitHubリポジトリに配置します。複数のDBクラスタが存在する場合でも、それらのテーブル情報を一つの統合されたMarkdownファイル（例：`00_all-tables.md`）として連結する処理を加えています。

AI連携の肝は、コーディング支援AIであるClaude Codeとの統合です。Claude Codeの`~/.claude/CLAUDE.md`ルールファイルに、クエリ関連の質問時にこの統合されたMarkdownファイルを参照するよう指示を記述します。さらに、テーブル構成情報は日々更新されるため、Claude CodeのHooks機能を利用し、`~/.claude/settings.json`に、特定のパスのファイルが参照された際やgrepされた際に、GitHubリポジトリから常に最新情報を自動でプルする処理を追加しています。

この仕組みを導入することで、プロダクト開発チームのメンバーはMCPサーバーを別途用意することなく、常に最新のMySQLテーブル情報に基づいたAIの支援を受けることが可能になります。筆者はこの「MCPサーバー不要」という点が最大のメリットであると強調し、広範な利用を期待しています。今後の展望として、Aurora MySQL利用時のIAMデータベース認証への対応によるRDS Data APIの活用、およびGitHub Actionsからの直接実行、さらにはMySQL以外のデータベースへの対応を期待しています。