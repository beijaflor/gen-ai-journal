## ドキュメントを参照し類似を自動検索させることで、AIによるコード生成の精度を上げる

https://blog.shibayu36.org/entry/2025/10/06/180000

AIによるコード生成の精度を向上させるため、ドキュメント参照と類似コードの自動検索を組み合わせる具体的な手法を提示する。

**Content Type**: Tutorial & Guide

**Scores**: Signal:4/5 | Depth:4/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:5/5
**Main Journal**: 89/100 | **Annex Potential**: 88/100 | **Overall**: 88/100

**Topics**: [[AIコード生成, プロンプトエンジニアリング, 開発効率化, RAG, データベースマイグレーション]]

AIによるコード生成は、コーディング規約や設計ガイドラインを参照させることで精度が向上するものの、細かいニュアンスやプロジェクト特有の書き方までは拾いきれず、「だいたい合っているが気になる」結果に終わりがちです。これは、ドキュメントがルールのサマリーであり、人間が実装時に行うような周辺コードの読み込みによる柔軟な意思決定が欠けているためです。

著者はこの課題に対し、ドキュメント参照に加えて、生成対象となるコードに似た既存コードを自動検索し、そのスタイルや規則性を学習させる手法を提案しています。具体的には、まずDB設計ガイドラインなどの規約を読み込ませ、次に`migrations/`ディレクトリから類似する過去のALTER TABLE文を5件ほど検索させ、インデントや命名規則、型の扱いなどの詳細な書き方を参照させます。これにより、体感的にAIの生成精度が大幅に向上し、特に細かい部分での違和感が減少したと報告されています。このアプローチは、ブログ記事の文体模倣など、他のコンテンツ生成にも応用可能です。

この手法は、Webアプリケーションエンジニアにとって重要です。第一に、AI生成コードの品質とプロジェクト内の一貫性を飛躍的に高めます。AIが既存のコードベースの「作法」を学習することで、手直しやスタイルの調整に費やす時間を削減し、デプロイ可能なコードをより迅速に得られます。第二に、複雑なデータベースマイグレーションのような作業において、エンジニアはAIをより信頼して活用できるようになり、開発効率が向上します。これは、RAG（検索拡張生成）の原則を実践的にワークフローへ組み込む具体例として非常に価値があり、単なるドキュメント参照では得られない、プロジェクト固有の微妙な知識をAIに効果的に伝達する道を開きます。