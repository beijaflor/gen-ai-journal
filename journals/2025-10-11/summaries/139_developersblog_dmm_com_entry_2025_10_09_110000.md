## AIエージェントで挑んだ大規模リファクタリング

https://developersblog.dmm.com/entry/2025/10/09/110000

DMMはAIエージェントDevinを導入し、複雑化したInfra層の大規模リファクタリングを安全かつ効率的に遂行し、開発工数を大幅に削減しました。

**Content Type**: ⚙️ Tools

**Scores**: Signal:5/5 | Depth:4/5 | Unique:4/5 | Practical:5/5 | Anti-Hype:4/5
**Main Journal**: 89/100 | **Annex Potential**: 87/100 | **Overall**: 88/100

**Topics**: [[AIエージェント, 大規模リファクタリング, ドメイン駆動設計, 開発プロセス改善, 生産性向上]]

DMMユーザーレビューグループは、長年の運用で複雑化し保守性が低下したInfra層に対し、AIエージェント「Devin」を活用した大規模リファクタリングを実施しました。これは、本部全体のAI Transformation戦略と、チーム独自のAI活用推進活動の一環としています。

記事では、従来数人月を要するようなリファクタリング作業を、AIと人の協働により短期間で実現するアプローチを詳述しています。具体的には、SlackワークフローとDevinを連携させ、Issue作成から実装、テスト、PR作成までの一連の開発サイクルを自動化。特に、ビジネスロジックとテーブル操作が混在し肥大化していた3,000行超のリポジトリ層に対し、DDD（ドメイン駆動設計）の原則に基づき「リポジトリ分割」「ドメイン層へのロジック移譲」「GORM v2への移行」の3つの施策を適用しました。

このリファクタリングの最大の工夫は、Infra層の外部仕様を変更せず、内部実装のみを整理する方針を徹底した点です。新旧のInfra層をInterface層で切り替え可能にすることで、段階的な安全移行と問題発生時の即時ロールバック体制を構築しました。

結果として、通常1人月以上かかる工数を1ファイルあたり1人日以下に削減し、総工数を半分以下に大幅短縮。既存のUnitTestを流用できたため、AI導入が難しいとされるテスト工程の効率化も実現しました。Findy Team+のデータからも、プルリク作成数が平均0.5件から1.5件以上へと約3倍に増加し、AI活用による生産性向上が定量的に示されています。

本事例は、AIエージェントが大規模なコード改修を安全かつ効率的に推進する強力なツールとなることを証明しています。特に「外部仕様を変えずに内部を改善する」ような、明確な方針と既存テストが活用できる領域では、AIが開発プロセスのボトルネックを解消し、チーム全体の生産性を飛躍的に高める可能性を示唆します。webアプリケーションエンジニアにとって、DevinのようなAIエージェントを日々の開発ワークフローに組み込み、レガシーコードの改善や技術負債の解消にどう活用できるか、具体的なヒントとなるでしょう。ただし、AIの適用範囲を適切に見極めることが成功の鍵であると強調しています。